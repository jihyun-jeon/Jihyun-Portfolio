import{r as G,j as M,M as Zs,I as Wn,S as qs,D as zs,L as $s,a as ae,F as tt,C as N,b as Zn,P as qn,c as zn,d as Re,s as re,e as fe,V as en,T as $n,f as tn,g as er,h as tr,B as st,i as nt,k as sn,R as wt,l as sr,m as gt,n as nr,o as Yt,p as rr,q as nn,t as ir,u as or,v as ar,w as cr,x as ur,G as Mt,y as lr,z as De,O as fr,A as rn,E as dr,H as hr,J as Ar,K as Br,N as on,Q as mr,U as pr,W as Cr,X as gr,Y as Mr,Z as Er,_ as br,$ as yr,a0 as Fr,a1 as Gr,a2 as Bs,a3 as Ir,a4 as Rr,a5 as ms,a6 as Sr,a7 as an,a8 as Dr,a9 as he,aa as Tr,ab as wr,ac as xr,ad as Ae,ae as ze,af as Xe,ag as cn,ah as Hr,ai as ke,aj as ce,ak as _r,al as vr,am as Vt,an as rt,ao as Lr,ap as un,aq as pe,ar as Jr,as as Pr,at as Or,au as ps,av as Ur,aw as Kr}from"./index.a323f230.js";let Wt=Qe();const T=s=>Ne(s,Wt);let Zt=Qe();T.write=s=>Ne(s,Zt);let lt=Qe();T.onStart=s=>Ne(s,lt);let qt=Qe();T.onFrame=s=>Ne(s,qt);let zt=Qe();T.onFinish=s=>Ne(s,zt);let Be=[];T.setTimeout=(s,e)=>{let t=T.now()+e,n=()=>{let i=Be.findIndex(o=>o.cancel==n);~i&&Be.splice(i,1),se-=~i?1:0},r={time:t,handler:s,cancel:n};return Be.splice(ln(t),0,r),se+=1,fn(),r};let ln=s=>~(~Be.findIndex(e=>e.time>s)||~Be.length);T.cancel=s=>{lt.delete(s),qt.delete(s),zt.delete(s),Wt.delete(s),Zt.delete(s)};T.sync=s=>{xt=!0,T.batchedUpdates(s),xt=!1};T.throttle=s=>{let e;function t(){try{s(...e)}finally{e=null}}function n(...r){e=r,T.onStart(t)}return n.handler=s,n.cancel=()=>{lt.delete(t),e=null},n};let $t=typeof window<"u"?window.requestAnimationFrame:()=>{};T.use=s=>$t=s;T.now=typeof performance<"u"?()=>performance.now():Date.now;T.batchedUpdates=s=>s();T.catch=console.error;T.frameLoop="always";T.advance=()=>{T.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):hn()};let te=-1,se=0,xt=!1;function Ne(s,e){xt?(e.delete(s),s(0)):(e.add(s),fn())}function fn(){te<0&&(te=0,T.frameLoop!=="demand"&&$t(dn))}function kr(){te=-1}function dn(){~te&&($t(dn),T.batchedUpdates(hn))}function hn(){let s=te;te=T.now();let e=ln(te);if(e&&(An(Be.splice(0,e),t=>t.handler()),se-=e),!se){kr();return}lt.flush(),Wt.flush(s?Math.min(64,te-s):16.667),qt.flush(),Zt.flush(),zt.flush()}function Qe(){let s=new Set,e=s;return{add(t){se+=e==s&&!s.has(t)?1:0,s.add(t)},delete(t){return se-=e==s&&s.has(t)?1:0,s.delete(t)},flush(t){e.size&&(s=new Set,se-=e.size,An(e,n=>n(t)&&s.add(n)),se+=s.size,e=s)}}}function An(s,e){s.forEach(t=>{try{e(t)}catch(n){T.catch(n)}})}function Ht(){}const Nr=(s,e,t)=>Object.defineProperty(s,e,{value:t,writable:!0,configurable:!0}),E={arr:Array.isArray,obj:s=>!!s&&s.constructor.name==="Object",fun:s=>typeof s=="function",str:s=>typeof s=="string",num:s=>typeof s=="number",und:s=>s===void 0};function z(s,e){if(E.arr(s)){if(!E.arr(e)||s.length!==e.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==e[t])return!1;return!0}return s===e}const H=(s,e)=>s.forEach(e);function W(s,e,t){if(E.arr(s)){for(let n=0;n<s.length;n++)e.call(t,s[n],`${n}`);return}for(const n in s)s.hasOwnProperty(n)&&e.call(t,s[n],n)}const U=s=>E.und(s)?[]:E.arr(s)?s:[s];function Te(s,e){if(s.size){const t=Array.from(s);s.clear(),H(t,e)}}const Se=(s,...e)=>Te(s,t=>t(...e)),es=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let ts,Bn,ne=null,mn=!1,ss=Ht;const Qr=s=>{s.to&&(Bn=s.to),s.now&&(T.now=s.now),s.colors!==void 0&&(ne=s.colors),s.skipAnimation!=null&&(mn=s.skipAnimation),s.createStringInterpolator&&(ts=s.createStringInterpolator),s.requestAnimationFrame&&T.use(s.requestAnimationFrame),s.batchedUpdates&&(T.batchedUpdates=s.batchedUpdates),s.willAdvance&&(ss=s.willAdvance),s.frameLoop&&(T.frameLoop=s.frameLoop)};var Z=Object.freeze({__proto__:null,get createStringInterpolator(){return ts},get to(){return Bn},get colors(){return ne},get skipAnimation(){return mn},get willAdvance(){return ss},assign:Qr});const we=new Set;let k=[],Et=[],it=0;const ft={get idle(){return!we.size&&!k.length},start(s){it>s.priority?(we.add(s),T.onStart(jr)):(pn(s),T(_t))},advance:_t,sort(s){if(it)T.onFrame(()=>ft.sort(s));else{const e=k.indexOf(s);~e&&(k.splice(e,1),Cn(s))}},clear(){k=[],we.clear()}};function jr(){we.forEach(pn),we.clear(),T(_t)}function pn(s){k.includes(s)||Cn(s)}function Cn(s){k.splice(Xr(k,e=>e.priority>s.priority),0,s)}function _t(s){const e=Et;for(let t=0;t<k.length;t++){const n=k[t];it=n.priority,n.idle||(ss(n),n.advance(s),n.idle||e.push(n))}return it=0,Et=k,Et.length=0,k=e,k.length>0}function Xr(s,e){const t=s.findIndex(e);return t<0?s.length:t}const Yr={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Y="[-+]?\\d*\\.?\\d+",ot=Y+"%";function dt(...s){return"\\(\\s*("+s.join(")\\s*,\\s*(")+")\\s*\\)"}const Vr=new RegExp("rgb"+dt(Y,Y,Y)),Wr=new RegExp("rgba"+dt(Y,Y,Y,Y)),Zr=new RegExp("hsl"+dt(Y,ot,ot)),qr=new RegExp("hsla"+dt(Y,ot,ot,Y)),zr=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$r=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ei=/^#([0-9a-fA-F]{6})$/,ti=/^#([0-9a-fA-F]{8})$/;function si(s){let e;return typeof s=="number"?s>>>0===s&&s>=0&&s<=4294967295?s:null:(e=ei.exec(s))?parseInt(e[1]+"ff",16)>>>0:ne&&ne[s]!==void 0?ne[s]:(e=Vr.exec(s))?(de(e[1])<<24|de(e[2])<<16|de(e[3])<<8|255)>>>0:(e=Wr.exec(s))?(de(e[1])<<24|de(e[2])<<16|de(e[3])<<8|Ms(e[4]))>>>0:(e=zr.exec(s))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=ti.exec(s))?parseInt(e[1],16)>>>0:(e=$r.exec(s))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Zr.exec(s))?(Cs(gs(e[1]),Ye(e[2]),Ye(e[3]))|255)>>>0:(e=qr.exec(s))?(Cs(gs(e[1]),Ye(e[2]),Ye(e[3]))|Ms(e[4]))>>>0:null}function bt(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+(e-s)*6*t:t<1/2?e:t<2/3?s+(e-s)*(2/3-t)*6:s}function Cs(s,e,t){const n=t<.5?t*(1+e):t+e-t*e,r=2*t-n,i=bt(r,n,s+1/3),o=bt(r,n,s),c=bt(r,n,s-1/3);return Math.round(i*255)<<24|Math.round(o*255)<<16|Math.round(c*255)<<8}function de(s){const e=parseInt(s,10);return e<0?0:e>255?255:e}function gs(s){return(parseFloat(s)%360+360)%360/360}function Ms(s){const e=parseFloat(s);return e<0?0:e>1?255:Math.round(e*255)}function Ye(s){const e=parseFloat(s);return e<0?0:e>100?1:e/100}function Es(s){let e=si(s);if(e===null)return s;e=e||0;let t=(e&4278190080)>>>24,n=(e&16711680)>>>16,r=(e&65280)>>>8,i=(e&255)/255;return`rgba(${t}, ${n}, ${r}, ${i})`}const _e=(s,e,t)=>{if(E.fun(s))return s;if(E.arr(s))return _e({range:s,output:e,extrapolate:t});if(E.str(s.output[0]))return ts(s);const n=s,r=n.output,i=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",c=n.extrapolateRight||n.extrapolate||"extend",a=n.easing||(u=>u);return u=>{const f=ri(u,i);return ni(u,i[f],i[f+1],r[f],r[f+1],a,o,c,n.map)}};function ni(s,e,t,n,r,i,o,c,a){let u=a?a(s):s;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>t){if(c==="identity")return u;c==="clamp"&&(u=t)}return n===r?n:e===t?s<=e?n:r:(e===-1/0?u=-u:t===1/0?u=u-e:u=(u-e)/(t-e),u=i(u),n===-1/0?u=-u:r===1/0?u=u+n:u=u*(r-n)+n,u)}function ri(s,e){for(var t=1;t<e.length-1&&!(e[t]>=s);++t);return t-1}function vt(){return vt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},vt.apply(this,arguments)}const Ce=Symbol.for("FluidValue.get"),ue=Symbol.for("FluidValue.observers"),K=s=>Boolean(s&&s[Ce]),O=s=>s&&s[Ce]?s[Ce]():s,bs=s=>s[ue]||null;function ii(s,e){s.eventObserved?s.eventObserved(e):s(e)}function ve(s,e){let t=s[ue];t&&t.forEach(n=>{ii(n,e)})}class gn{constructor(e){if(this[Ce]=void 0,this[ue]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");oi(this,e)}}const oi=(s,e)=>Mn(s,Ce,e);function Me(s,e){if(s[Ce]){let t=s[ue];t||Mn(s,ue,t=new Set),t.has(e)||(t.add(e),s.observerAdded&&s.observerAdded(t.size,e))}return e}function Le(s,e){let t=s[ue];if(t&&t.has(e)){const n=t.size-1;n?t.delete(e):s[ue]=null,s.observerRemoved&&s.observerRemoved(n,e)}}const Mn=(s,e,t)=>Object.defineProperty(s,e,{value:t,writable:!0,configurable:!0}),$e=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ai=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ys=new RegExp(`(${$e.source})(%|[a-z]+)`,"i"),ci=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ht=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,En=s=>{const[e,t]=ui(s);if(!e||es())return s;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(t&&t.startsWith("--")){const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r||s}else{if(t&&ht.test(t))return En(t);if(t)return t}return s},ui=s=>{const e=ht.exec(s);if(!e)return[,];const[,t,n]=e;return[t,n]};let yt;const li=(s,e,t,n,r)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(n)}, ${r})`,bn=s=>{yt||(yt=ne?new RegExp(`(${Object.keys(ne).join("|")})(?!\\w)`,"g"):/^\b$/);const e=s.output.map(i=>O(i).replace(ht,En).replace(ai,Es).replace(yt,Es)),t=e.map(i=>i.match($e).map(Number)),r=t[0].map((i,o)=>t.map(c=>{if(!(o in c))throw Error('The arity of each "output" value must be equal');return c[o]})).map(i=>_e(vt({},s,{output:i})));return i=>{var o;const c=!ys.test(e[0])&&((o=e.find(u=>ys.test(u)))==null?void 0:o.replace($e,""));let a=0;return e[0].replace($e,()=>`${r[a++](i)}${c||""}`).replace(ci,li)}},ns="react-spring: ",yn=s=>{const e=s;let t=!1;if(typeof e!="function")throw new TypeError(`${ns}once requires a function parameter`);return(...n)=>{t||(e(...n),t=!0)}},fi=yn(console.warn);function di(){fi(`${ns}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const hi=yn(console.warn);function Ai(){hi(`${ns}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function At(s){return E.str(s)&&(s[0]=="#"||/\d/.test(s)||!es()&&ht.test(s)||s in(ne||{}))}const rs=es()?G.exports.useEffect:G.exports.useLayoutEffect,Bi=()=>{const s=G.exports.useRef(!1);return rs(()=>(s.current=!0,()=>{s.current=!1}),[]),s};function Fn(){const s=G.exports.useState()[1],e=Bi();return()=>{e.current&&s(Math.random())}}function mi(s,e){const[t]=G.exports.useState(()=>({inputs:e,result:s()})),n=G.exports.useRef(),r=n.current;let i=r;return i?Boolean(e&&i.inputs&&pi(e,i.inputs))||(i={inputs:e,result:s()}):i=t,G.exports.useEffect(()=>{n.current=i,r==t&&(t.inputs=t.result=void 0)},[i]),i.result}function pi(s,e){if(s.length!==e.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==e[t])return!1;return!0}const Gn=s=>G.exports.useEffect(s,Ci),Ci=[];function Fs(s){const e=G.exports.useRef();return G.exports.useEffect(()=>{e.current=s}),e.current}const Je=Symbol.for("Animated:node"),gi=s=>!!s&&s[Je]===s,V=s=>s&&s[Je],is=(s,e)=>Nr(s,Je,e),Bt=s=>s&&s[Je]&&s[Je].getPayload();class In{constructor(){this.payload=void 0,is(this,this)}getPayload(){return this.payload||[]}}class Ee extends In{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,E.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Ee(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return E.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,E.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class ge extends Ee{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=_e({output:[e,e]})}static create(e){return new ge(e)}getValue(){let e=this._string;return e==null?this._string=this._toString(this._value):e}setValue(e){if(E.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=_e({output:[this.getValue(),e]})),this._value=0,super.reset()}}const at={dependencies:null};class mt extends In{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return W(this.source,(n,r)=>{gi(n)?t[r]=n.getValue(e):K(n)?t[r]=O(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&H(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return W(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){at.dependencies&&K(e)&&at.dependencies.add(e);const t=Bt(e);t&&H(t,n=>this.add(n))}}class os extends mt{constructor(e){super(e)}static create(e){return new os(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(Mi)),!0)}}function Mi(s){return(At(s)?ge:Ee).create(s)}function Lt(s){const e=V(s);return e?e.constructor:E.arr(s)?os:At(s)?ge:Ee}function Jt(){return Jt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Jt.apply(this,arguments)}const Gs=(s,e)=>{const t=!E.fun(s)||s.prototype&&s.prototype.isReactComponent;return G.exports.forwardRef((n,r)=>{const i=G.exports.useRef(null),o=t&&G.exports.useCallback(h=>{i.current=yi(r,h)},[r]),[c,a]=bi(n,e),u=Fn(),f=()=>{const h=i.current;if(t&&!h)return;(h?e.applyAnimatedValues(h,c.getValue(!0)):!1)===!1&&u()},l=new Ei(f,a),d=G.exports.useRef();rs(()=>(d.current=l,H(a,h=>Me(h,l)),()=>{d.current&&(H(d.current.deps,h=>Le(h,d.current)),T.cancel(d.current.update))})),G.exports.useEffect(f,[]),Gn(()=>()=>{const h=d.current;H(h.deps,m=>Le(m,h))});const A=e.getComponentProps(c.getValue());return M(s,{...A,ref:o})})};class Ei{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&T.write(this.update)}}function bi(s,e){const t=new Set;return at.dependencies=t,s.style&&(s=Jt({},s,{style:e.createAnimatedStyle(s.style)})),s=new mt(s),at.dependencies=null,[s,t]}function yi(s,e){return s&&(E.fun(s)?s(e):s.current=e),e}const Is=Symbol.for("AnimatedComponent"),Fi=(s,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=r=>new mt(r),getComponentProps:n=r=>r}={})=>{const r={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:n},i=o=>{const c=Rs(o)||"Anonymous";return E.str(o)?o=i[o]||(i[o]=Gs(o,r)):o=o[Is]||(o[Is]=Gs(o,r)),o.displayName=`Animated(${c})`,o};return W(s,(o,c)=>{E.arr(s)&&(c=Rs(o)),i[c]=i(o)}),{animated:i}},Rs=s=>E.str(s)?s:s&&E.str(s.displayName)?s.displayName:E.fun(s)&&s.name||null;function J(){return J=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},J.apply(this,arguments)}function oe(s,...e){return E.fun(s)?s(...e):s}const xe=(s,e)=>s===!0||!!(e&&s&&(E.fun(s)?s(e):U(s).includes(e))),Rn=(s,e)=>E.obj(s)?e&&s[e]:s,Sn=(s,e)=>s.default===!0?s[e]:s.default?s.default[e]:void 0,Gi=s=>s,as=(s,e=Gi)=>{let t=Ii;s.default&&s.default!==!0&&(s=s.default,t=Object.keys(s));const n={};for(const r of t){const i=e(s[r],r);E.und(i)||(n[r]=i)}return n},Ii=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Ri={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Si(s){const e={};let t=0;if(W(s,(n,r)=>{Ri[r]||(e[r]=n,t++)}),t)return e}function Dn(s){const e=Si(s);if(e){const t={to:e};return W(s,(n,r)=>r in e||(t[r]=n)),t}return J({},s)}function Pe(s){return s=O(s),E.arr(s)?s.map(Pe):At(s)?Z.createStringInterpolator({range:[0,1],output:[s,s]})(1):s}function Di(s){for(const e in s)return!0;return!1}function Pt(s){return E.fun(s)||E.arr(s)&&E.obj(s[0])}function Ti(s,e){var t;(t=s.ref)==null||t.delete(s),e==null||e.delete(s)}function wi(s,e){if(e&&s.ref!==e){var t;(t=s.ref)==null||t.delete(s),e.add(s),s.ref=e}}const xi={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},ct=1.70158,Ve=ct*1.525,Ss=ct+1,Ds=2*Math.PI/3,Ts=2*Math.PI/4.5,We=s=>s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375,Hi={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>1-(1-s)*(1-s),easeInOutQuad:s=>s<.5?2*s*s:1-Math.pow(-2*s+2,2)/2,easeInCubic:s=>s*s*s,easeOutCubic:s=>1-Math.pow(1-s,3),easeInOutCubic:s=>s<.5?4*s*s*s:1-Math.pow(-2*s+2,3)/2,easeInQuart:s=>s*s*s*s,easeOutQuart:s=>1-Math.pow(1-s,4),easeInOutQuart:s=>s<.5?8*s*s*s*s:1-Math.pow(-2*s+2,4)/2,easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>1-Math.pow(1-s,5),easeInOutQuint:s=>s<.5?16*s*s*s*s*s:1-Math.pow(-2*s+2,5)/2,easeInSine:s=>1-Math.cos(s*Math.PI/2),easeOutSine:s=>Math.sin(s*Math.PI/2),easeInOutSine:s=>-(Math.cos(Math.PI*s)-1)/2,easeInExpo:s=>s===0?0:Math.pow(2,10*s-10),easeOutExpo:s=>s===1?1:1-Math.pow(2,-10*s),easeInOutExpo:s=>s===0?0:s===1?1:s<.5?Math.pow(2,20*s-10)/2:(2-Math.pow(2,-20*s+10))/2,easeInCirc:s=>1-Math.sqrt(1-Math.pow(s,2)),easeOutCirc:s=>Math.sqrt(1-Math.pow(s-1,2)),easeInOutCirc:s=>s<.5?(1-Math.sqrt(1-Math.pow(2*s,2)))/2:(Math.sqrt(1-Math.pow(-2*s+2,2))+1)/2,easeInBack:s=>Ss*s*s*s-ct*s*s,easeOutBack:s=>1+Ss*Math.pow(s-1,3)+ct*Math.pow(s-1,2),easeInOutBack:s=>s<.5?Math.pow(2*s,2)*((Ve+1)*2*s-Ve)/2:(Math.pow(2*s-2,2)*((Ve+1)*(s*2-2)+Ve)+2)/2,easeInElastic:s=>s===0?0:s===1?1:-Math.pow(2,10*s-10)*Math.sin((s*10-10.75)*Ds),easeOutElastic:s=>s===0?0:s===1?1:Math.pow(2,-10*s)*Math.sin((s*10-.75)*Ds)+1,easeInOutElastic:s=>s===0?0:s===1?1:s<.5?-(Math.pow(2,20*s-10)*Math.sin((20*s-11.125)*Ts))/2:Math.pow(2,-20*s+10)*Math.sin((20*s-11.125)*Ts)/2+1,easeInBounce:s=>1-We(1-s),easeOutBounce:We,easeInOutBounce:s=>s<.5?(1-We(1-2*s))/2:(1+We(2*s-1))/2},Ot=J({},xi.default,{mass:1,damping:1,easing:Hi.linear,clamp:!1});class _i{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Ot)}}function vi(s,e,t){t&&(t=J({},t),ws(t,e),e=J({},t,e)),ws(s,e),Object.assign(s,e);for(const o in Ot)s[o]==null&&(s[o]=Ot[o]);let{mass:n,frequency:r,damping:i}=s;return E.und(r)||(r<.01&&(r=.01),i<0&&(i=0),s.tension=Math.pow(2*Math.PI/r,2)*n,s.friction=4*Math.PI*i*n/r),s}function ws(s,e){if(!E.und(e.decay))s.duration=void 0;else{const t=!E.und(e.tension)||!E.und(e.friction);(t||!E.und(e.frequency)||!E.und(e.damping)||!E.und(e.mass))&&(s.duration=void 0,s.decay=void 0),t&&(s.frequency=void 0)}}const xs=[];class Li{constructor(){this.changed=!1,this.values=xs,this.toValues=null,this.fromValues=xs,this.to=void 0,this.from=void 0,this.config=new _i,this.immediate=!1}}function Tn(s,{key:e,props:t,defaultProps:n,state:r,actions:i}){return new Promise((o,c)=>{var a;let u,f,l=xe((a=t.cancel)!=null?a:n==null?void 0:n.cancel,e);if(l)h();else{E.und(t.pause)||(r.paused=xe(t.pause,e));let m=n==null?void 0:n.pause;m!==!0&&(m=r.paused||xe(m,e)),u=oe(t.delay||0,e),m?(r.resumeQueue.add(A),i.pause()):(i.resume(),A())}function d(){r.resumeQueue.add(A),r.timeouts.delete(f),f.cancel(),u=f.time-T.now()}function A(){u>0&&!Z.skipAnimation?(r.delayed=!0,f=T.setTimeout(h,u),r.pauseQueue.add(d),r.timeouts.add(f)):h()}function h(){r.delayed&&(r.delayed=!1),r.pauseQueue.delete(d),r.timeouts.delete(f),s<=(r.cancelId||0)&&(l=!0);try{i.start(J({},t,{callId:s,cancel:l}),o)}catch(m){c(m)}}})}const cs=(s,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?me(s.get()):e.every(t=>t.noop)?wn(s.get()):X(s.get(),e.every(t=>t.finished)),wn=s=>({value:s,noop:!0,finished:!0,cancelled:!1}),X=(s,e,t=!1)=>({value:s,finished:e,cancelled:t}),me=s=>({value:s,cancelled:!0,finished:!1});function xn(s,e,t,n){const{callId:r,parentId:i,onRest:o}=e,{asyncTo:c,promise:a}=t;return!i&&s===c&&!e.reset?a:t.promise=(async()=>{t.asyncId=r,t.asyncTo=s;const u=as(e,(p,g)=>g==="onRest"?void 0:p);let f,l;const d=new Promise((p,g)=>(f=p,l=g)),A=p=>{const g=r<=(t.cancelId||0)&&me(n)||r!==t.asyncId&&X(n,!1);if(g)throw p.result=g,l(p),p},h=(p,g)=>{const b=new Hs,B=new _s;return(async()=>{if(Z.skipAnimation)throw Oe(t),B.result=X(n,!1),l(B),B;A(b);const C=E.obj(p)?J({},p):J({},g,{to:p});C.parentId=r,W(u,(F,S)=>{E.und(C[S])&&(C[S]=F)});const y=await n.start(C);return A(b),t.paused&&await new Promise(F=>{t.resumeQueue.add(F)}),y})()};let m;if(Z.skipAnimation)return Oe(t),X(n,!1);try{let p;E.arr(s)?p=(async g=>{for(const b of g)await h(b)})(s):p=Promise.resolve(s(h,n.stop.bind(n))),await Promise.all([p.then(f),d]),m=X(n.get(),!0,!1)}catch(p){if(p instanceof Hs)m=p.result;else if(p instanceof _s)m=p.result;else throw p}finally{r==t.asyncId&&(t.asyncId=i,t.asyncTo=i?c:void 0,t.promise=i?a:void 0)}return E.fun(o)&&T.batchedUpdates(()=>{o(m,n,n.item)}),m})()}function Oe(s,e){Te(s.timeouts,t=>t.cancel()),s.pauseQueue.clear(),s.resumeQueue.clear(),s.asyncId=s.asyncTo=s.promise=void 0,e&&(s.cancelId=e)}class Hs extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class _s extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Ut=s=>s instanceof us;let Ji=1;class us extends gn{constructor(...e){super(...e),this.id=Ji++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=V(this);return e&&e.getValue()}to(...e){return Z.to(this,e)}interpolate(...e){return di(),Z.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){ve(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||ft.sort(this),ve(this,{type:"priority",parent:this,priority:e})}}const le=Symbol.for("SpringPhase"),Hn=1,Kt=2,kt=4,Ft=s=>(s[le]&Hn)>0,$=s=>(s[le]&Kt)>0,be=s=>(s[le]&kt)>0,vs=(s,e)=>e?s[le]|=Kt|Hn:s[le]&=~Kt,Ls=(s,e)=>e?s[le]|=kt:s[le]&=~kt;class Pi extends us{constructor(e,t){if(super(),this.key=void 0,this.animation=new Li,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!E.und(e)||!E.und(t)){const n=E.obj(e)?J({},e):J({},t,{from:e});E.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!($(this)||this._state.asyncTo)||be(this)}get goal(){return O(this.animation.to)}get velocity(){const e=V(this);return e instanceof Ee?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return Ft(this)}get isAnimating(){return $(this)}get isPaused(){return be(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{config:i,toValues:o}=r;const c=Bt(r.to);!c&&K(r.to)&&(o=U(O(r.to))),r.values.forEach((f,l)=>{if(f.done)return;const d=f.constructor==ge?1:c?c[l].lastPosition:o[l];let A=r.immediate,h=d;if(!A){if(h=f.lastPosition,i.tension<=0){f.done=!0;return}let m=f.elapsedTime+=e;const p=r.fromValues[l],g=f.v0!=null?f.v0:f.v0=E.arr(i.velocity)?i.velocity[l]:i.velocity;let b;const B=i.precision||(p==d?.005:Math.min(1,Math.abs(d-p)*.001));if(E.und(i.duration))if(i.decay){const C=i.decay===!0?.998:i.decay,y=Math.exp(-(1-C)*m);h=p+g/(1-C)*(1-y),A=Math.abs(f.lastPosition-h)<=B,b=g*y}else{b=f.lastVelocity==null?g:f.lastVelocity;const C=i.restVelocity||B/10,y=i.clamp?0:i.bounce,F=!E.und(y),S=p==d?f.v0>0:p<d;let R,I=!1;const w=1,D=Math.ceil(e/w);for(let _=0;_<D&&(R=Math.abs(b)>C,!(!R&&(A=Math.abs(d-h)<=B,A)));++_){F&&(I=h==d||h>d==S,I&&(b=-b*y,h=d));const v=-i.tension*1e-6*(h-d),P=-i.friction*.001*b,L=(v+P)/i.mass;b=b+L*w,h=h+b*w}}else{let C=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,f.durationProgress>0&&(f.elapsedTime=i.duration*f.durationProgress,m=f.elapsedTime+=e)),C=(i.progress||0)+m/this._memoizedDuration,C=C>1?1:C<0?0:C,f.durationProgress=C),h=p+i.easing(C)*(d-p),b=(h-f.lastPosition)/e,A=C==1}f.lastVelocity=b,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),A=!0)}c&&!c[l].done&&(A=!1),A?f.done=!0:t=!1,f.setValue(h,i.round)&&(n=!0)});const a=V(this),u=a.getValue();if(t){const f=O(r.to);(u!==f||n)&&!i.decay?(a.setValue(f),this._onChange(f)):n&&i.decay&&this._onChange(u),this._stop()}else n&&this._onChange(u)}set(e){return T.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if($(this)){const{to:e,config:t}=this.animation;T.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return E.und(e)?(n=this.queue||[],this.queue=[]):n=[E.obj(e)?e:J({},t,{to:e})],Promise.all(n.map(r=>this._update(r))).then(r=>cs(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Oe(this._state,e&&this._lastCallId),T.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=E.obj(n)?n[t]:n,(n==null||Pt(n))&&(n=void 0),r=E.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:n,from:r};return Ft(this)||(e.reverse&&([n,r]=[r,n]),r=O(r),E.und(r)?V(this)||this._set(n):this._set(r)),i}_update(e,t){let n=J({},e);const{key:r,defaultProps:i}=this;n.default&&Object.assign(i,as(n,(a,u)=>/^on/.test(u)?Rn(a,r):a)),Ps(this,n,"onProps"),Fe(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const c=this._state;return Tn(++this._lastCallId,{key:r,props:n,defaultProps:i,state:c,actions:{pause:()=>{be(this)||(Ls(this,!0),Se(c.pauseQueue),Fe(this,"onPause",X(this,ye(this,this.animation.to)),this))},resume:()=>{be(this)&&(Ls(this,!1),$(this)&&this._resume(),Se(c.resumeQueue),Fe(this,"onResume",X(this,ye(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(a=>{if(n.loop&&a.finished&&!(t&&a.noop)){const u=_n(n);if(u)return this._update(u,!0)}return a})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(me(this));const r=!E.und(e.to),i=!E.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(me(this));const{key:o,defaultProps:c,animation:a}=this,{to:u,from:f}=a;let{to:l=u,from:d=f}=e;i&&!r&&(!t.default||E.und(l))&&(l=d),t.reverse&&([l,d]=[d,l]);const A=!z(d,f);A&&(a.from=d),d=O(d);const h=!z(l,u);h&&this._focus(l);const m=Pt(t.to),{config:p}=a,{decay:g,velocity:b}=p;(r||i)&&(p.velocity=0),t.config&&!m&&vi(p,oe(t.config,o),t.config!==c.config?oe(c.config,o):void 0);let B=V(this);if(!B||E.und(l))return n(X(this,!0));const C=E.und(t.reset)?i&&!t.default:!E.und(d)&&xe(t.reset,o),y=C?d:this.get(),F=Pe(l),S=E.num(F)||E.arr(F)||At(F),R=!m&&(!S||xe(c.immediate||t.immediate,o));if(h){const _=Lt(l);if(_!==B.constructor)if(R)B=this._set(F);else throw Error(`Cannot animate between ${B.constructor.name} and ${_.name}, as the "to" prop suggests`)}const I=B.constructor;let w=K(l),D=!1;if(!w){const _=C||!Ft(this)&&A;(h||_)&&(D=z(Pe(y),F),w=!D),(!z(a.immediate,R)&&!R||!z(p.decay,g)||!z(p.velocity,b))&&(w=!0)}if(D&&$(this)&&(a.changed&&!C?w=!0:w||this._stop(u)),!m&&((w||K(u))&&(a.values=B.getPayload(),a.toValues=K(l)?null:I==ge?[1]:U(F)),a.immediate!=R&&(a.immediate=R,!R&&!C&&this._set(u)),w)){const{onRest:_}=a;H(Ui,P=>Ps(this,t,P));const v=X(this,ye(this,u));Se(this._pendingCalls,v),this._pendingCalls.add(n),a.changed&&T.batchedUpdates(()=>{a.changed=!C,_==null||_(v,this),C?oe(c.onRest,v):a.onStart==null||a.onStart(v,this)})}C&&this._set(y),m?n(xn(t.to,t,this._state,this)):w?this._start():$(this)&&!h?this._pendingCalls.add(n):n(wn(y))}_focus(e){const t=this.animation;e!==t.to&&(bs(this)&&this._detach(),t.to=e,bs(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;K(t)&&(Me(t,this),Ut(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;K(e)&&Le(e,this)}_set(e,t=!0){const n=O(e);if(!E.und(n)){const r=V(this);if(!r||!z(n,r.getValue())){const i=Lt(n);!r||r.constructor!=i?is(this,i.create(n)):r.setValue(n),r&&T.batchedUpdates(()=>{this._onChange(n,t)})}}return V(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Fe(this,"onStart",X(this,ye(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),oe(this.animation.onChange,e,this)),oe(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;V(this).reset(O(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),$(this)||(vs(this,!0),be(this)||this._resume())}_resume(){Z.skipAnimation?this.finish():ft.start(this)}_stop(e,t){if($(this)){vs(this,!1);const n=this.animation;H(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),ve(this,{type:"idle",parent:this});const r=t?me(this.get()):X(this.get(),ye(this,e!=null?e:n.to));Se(this._pendingCalls,r),n.changed&&(n.changed=!1,Fe(this,"onRest",r,this))}}}function ye(s,e){const t=Pe(e),n=Pe(s.get());return z(n,t)}function _n(s,e=s.loop,t=s.to){let n=oe(e);if(n){const r=n!==!0&&Dn(n),i=(r||s).reverse,o=!r||r.reset;return Ue(J({},s,{loop:e,default:!1,pause:void 0,to:!i||Pt(t)?t:void 0,from:o?s.from:void 0,reset:o},r))}}function Ue(s){const{to:e,from:t}=s=Dn(s),n=new Set;return E.obj(e)&&Js(e,n),E.obj(t)&&Js(t,n),s.keys=n.size?Array.from(n):null,s}function Oi(s){const e=Ue(s);return E.und(e.default)&&(e.default=as(e)),e}function Js(s,e){W(s,(t,n)=>t!=null&&e.add(n))}const Ui=["onStart","onRest","onChange","onPause","onResume"];function Ps(s,e,t){s.animation[t]=e[t]!==Sn(e,t)?Rn(e[t],s.key):void 0}function Fe(s,e,...t){var n,r,i,o;(n=(r=s.animation)[e])==null||n.call(r,...t),(i=(o=s.defaultProps)[e])==null||i.call(o,...t)}const Ki=["onStart","onChange","onRest"];let ki=1;class Ni{constructor(e,t){this.id=ki++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(J({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];E.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Ue(e)),this}start(e){let{queue:t}=this;return e?t=U(e).map(Ue):this.queue=[],this._flush?this._flush(this,t):(On(this,t),Nt(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;H(U(t),r=>n[r].stop(!!e))}else Oe(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(E.und(e))this.start({pause:!0});else{const t=this.springs;H(U(e),n=>t[n].pause())}return this}resume(e){if(E.und(e))this.start({pause:!1});else{const t=this.springs;H(U(e),n=>t[n].resume())}return this}each(e){W(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Te(e,([a,u])=>{u.value=this.get(),a(u,this,this._item)}));const o=!r&&this._started,c=i||o&&n.size?this.get():null;i&&t.size&&Te(t,([a,u])=>{u.value=c,a(u,this,this._item)}),o&&(this._started=!1,Te(n,([a,u])=>{u.value=c,a(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;T.onFrame(this._onFrame)}}function Nt(s,e){return Promise.all(e.map(t=>vn(s,t))).then(t=>cs(s,t))}async function vn(s,e,t){const{keys:n,to:r,from:i,loop:o,onRest:c,onResolve:a}=e,u=E.obj(e.default)&&e.default;o&&(e.loop=!1),r===!1&&(e.to=null),i===!1&&(e.from=null);const f=E.arr(r)||E.fun(r)?r:void 0;f?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):H(Ki,m=>{const p=e[m];if(E.fun(p)){const g=s._events[m];e[m]=({finished:b,cancelled:B})=>{const C=g.get(p);C?(b||(C.finished=!1),B&&(C.cancelled=!0)):g.set(p,{value:null,finished:b||!1,cancelled:B||!1})},u&&(u[m]=e[m])}});const l=s._state;e.pause===!l.paused?(l.paused=e.pause,Se(e.pause?l.pauseQueue:l.resumeQueue)):l.paused&&(e.pause=!0);const d=(n||Object.keys(s.springs)).map(m=>s.springs[m].start(e)),A=e.cancel===!0||Sn(e,"cancel")===!0;(f||A&&l.asyncId)&&d.push(Tn(++s._lastAsyncId,{props:e,state:l,actions:{pause:Ht,resume:Ht,start(m,p){A?(Oe(l,s._lastAsyncId),p(me(s))):(m.onRest=c,p(xn(f,m,l,s)))}}})),l.paused&&await new Promise(m=>{l.resumeQueue.add(m)});const h=cs(s,await Promise.all(d));if(o&&h.finished&&!(t&&h.noop)){const m=_n(e,o,r);if(m)return On(s,[m]),vn(s,m,!0)}return a&&T.batchedUpdates(()=>a(h,s,s.item)),h}function Os(s,e){const t=J({},s.springs);return e&&H(U(e),n=>{E.und(n.keys)&&(n=Ue(n)),E.obj(n.to)||(n=J({},n,{to:void 0})),Pn(t,n,r=>Jn(r))}),Ln(s,t),t}function Ln(s,e){W(e,(t,n)=>{s.springs[n]||(s.springs[n]=t,Me(t,s))})}function Jn(s,e){const t=new Pi;return t.key=s,e&&Me(t,e),t}function Pn(s,e,t){e.keys&&H(e.keys,n=>{(s[n]||(s[n]=t(n)))._prepareNode(e)})}function On(s,e){H(e,t=>{Pn(s.springs,t,n=>Jn(n,s))})}function Qi(s,e){if(s==null)return{};var t={},n=Object.keys(s),r,i;for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&(t[r]=s[r]);return t}const ji=["children"],pt=s=>{let{children:e}=s,t=Qi(s,ji);const n=G.exports.useContext(ut),r=t.pause||!!n.pause,i=t.immediate||!!n.immediate;t=mi(()=>({pause:r,immediate:i}),[r,i]);const{Provider:o}=ut;return M(o,{value:t,children:e})},ut=Xi(pt,{});pt.Provider=ut.Provider;pt.Consumer=ut.Consumer;function Xi(s,e){return Object.assign(s,G.exports.createContext(e)),s.Provider._context=s,s.Consumer._context=s,s}const Yi=()=>{const s=[],e=function(r){Ai();const i=[];return H(s,(o,c)=>{if(E.und(r))i.push(o.start());else{const a=t(r,o,c);a&&i.push(o.start(a))}}),i};e.current=s,e.add=function(n){s.includes(n)||s.push(n)},e.delete=function(n){const r=s.indexOf(n);~r&&s.splice(r,1)},e.pause=function(){return H(s,n=>n.pause(...arguments)),this},e.resume=function(){return H(s,n=>n.resume(...arguments)),this},e.set=function(n){H(s,r=>r.set(n))},e.start=function(n){const r=[];return H(s,(i,o)=>{if(E.und(n))r.push(i.start());else{const c=this._getProps(n,i,o);c&&r.push(i.start(c))}}),r},e.stop=function(){return H(s,n=>n.stop(...arguments)),this},e.update=function(n){return H(s,(r,i)=>r.update(this._getProps(n,r,i))),this};const t=function(r,i,o){return E.fun(r)?r(o,i):r};return e._getProps=t,e};function Vi(s,e,t){const n=E.fun(e)&&e;n&&!t&&(t=[]);const r=G.exports.useMemo(()=>n||arguments.length==3?Yi():void 0,[]),i=G.exports.useRef(0),o=Fn(),c=G.exports.useMemo(()=>({ctrls:[],queue:[],flush(g,b){const B=Os(g,b);return i.current>0&&!c.queue.length&&!Object.keys(B).some(y=>!g.springs[y])?Nt(g,b):new Promise(y=>{Ln(g,B),c.queue.push(()=>{y(Nt(g,b))}),o()})}}),[]),a=G.exports.useRef([...c.ctrls]),u=[],f=Fs(s)||0;G.exports.useMemo(()=>{H(a.current.slice(s,f),g=>{Ti(g,r),g.stop(!0)}),a.current.length=s,l(f,s)},[s]),G.exports.useMemo(()=>{l(0,Math.min(f,s))},t);function l(g,b){for(let B=g;B<b;B++){const C=a.current[B]||(a.current[B]=new Ni(null,c.flush)),y=n?n(B,C):e[B];y&&(u[B]=Oi(y))}}const d=a.current.map((g,b)=>Os(g,u[b])),A=G.exports.useContext(pt),h=Fs(A),m=A!==h&&Di(A);rs(()=>{i.current++,c.ctrls=a.current;const{queue:g}=c;g.length&&(c.queue=[],H(g,b=>b())),H(a.current,(b,B)=>{r==null||r.add(b),m&&b.start({default:A});const C=u[B];C&&(wi(b,C.ref),b.ref?b.queue.push(C):b.start(C))})}),Gn(()=>()=>{H(c.ctrls,g=>g.stop(!0))});const p=d.map(g=>J({},g));return r?[p,r]:p}function Wi(s,e){const t=E.fun(s),[[n],r]=Vi(1,t?s:[s],t?e||[]:e);return t||arguments.length==2?[n,r]:n}let Us;(function(s){s.MOUNT="mount",s.ENTER="enter",s.UPDATE="update",s.LEAVE="leave"})(Us||(Us={}));class Zi extends us{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=_e(...t);const n=this._get(),r=Lt(n);is(this,r.create(n))}advance(e){const t=this._get(),n=this.get();z(t,n)||(V(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Ks(this._active)&&Gt(this)}_get(){const e=E.arr(this.source)?this.source.map(O):U(O(this.source));return this.calc(...e)}_start(){this.idle&&!Ks(this._active)&&(this.idle=!1,H(Bt(this),e=>{e.done=!1}),Z.skipAnimation?(T.batchedUpdates(()=>this.advance()),Gt(this)):ft.start(this))}_attach(){let e=1;H(U(this.source),t=>{K(t)&&Me(t,this),Ut(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){H(U(this.source),e=>{K(e)&&Le(e,this)}),this._active.clear(),Gt(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=U(this.source).reduce((t,n)=>Math.max(t,(Ut(n)?n.priority:0)+1),0))}}function qi(s){return s.idle!==!1}function Ks(s){return!s.size||Array.from(s).every(qi)}function Gt(s){s.idle||(s.idle=!0,H(Bt(s),e=>{e.done=!0}),ve(s,{type:"idle",parent:s}))}Z.assign({createStringInterpolator:bn,to:(s,e)=>new Zi(s,e)});const zi=s=>s&&s.isCubeTexture;class $i extends Zs{constructor(e,t){var n,r;const i=zi(e),c=((n=i?(r=e.image[0])===null||r===void 0?void 0:r.width:e.image.width)!=null?n:1024)/4,a=Math.floor(Math.log2(c)),u=Math.pow(2,a),f=3*Math.max(u,16*7),l=4*u,d=[i?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/f}`,`#define CUBEUV_TEXEL_HEIGHT ${1/l}`,`#define CUBEUV_MAX_MIP ${a}.0`],A=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,h=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,m={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},p=new Wn(1,16),g=new qs({uniforms:m,fragmentShader:h,vertexShader:A,side:zs});super(p,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class ls extends $s{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ro(t)}),this.register(function(t){return new fo(t)}),this.register(function(t){return new ho(t)}),this.register(function(t){return new oo(t)}),this.register(function(t){return new ao(t)}),this.register(function(t){return new co(t)}),this.register(function(t){return new uo(t)}),this.register(function(t){return new no(t)}),this.register(function(t){return new lo(t)}),this.register(function(t){return new io(t)}),this.register(function(t){return new to(t)}),this.register(function(t){return new Ao(t)})}load(e,t,n,r){const i=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ae.extractUrlBase(e),this.manager.itemStart(e);const c=function(u){r?r(u):console.error(u),i.manager.itemError(e),i.manager.itemEnd(e)},a=new tt(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{i.parse(u,o,function(f){t(f),i.manager.itemEnd(e)},c)}catch(f){c(f)}},n,c)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let i;const o={},c={};if(typeof e=="string")i=e;else if(ae.decodeText(new Uint8Array(e,0,4))===Un){try{o[x.KHR_BINARY_GLTF]=new Bo(e)}catch(l){r&&r(l);return}i=o[x.KHR_BINARY_GLTF].content}else i=ae.decodeText(new Uint8Array(e));const a=JSON.parse(i);if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new So(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const l=this.pluginCallbacks[f](u);c[l.name]=l,o[l.name]=!0}if(a.extensionsUsed)for(let f=0;f<a.extensionsUsed.length;++f){const l=a.extensionsUsed[f],d=a.extensionsRequired||[];switch(l){case x.KHR_MATERIALS_UNLIT:o[l]=new so;break;case x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[l]=new Co;break;case x.KHR_DRACO_MESH_COMPRESSION:o[l]=new mo(a,this.dracoLoader);break;case x.KHR_TEXTURE_TRANSFORM:o[l]=new po;break;case x.KHR_MESH_QUANTIZATION:o[l]=new go;break;default:d.indexOf(l)>=0&&c[l]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+l+'".')}}u.setExtensions(o),u.setPlugins(c),u.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,i){n.parse(e,t,r,i)})}}function eo(){let s={};return{get:function(e){return s[e]},add:function(e,t){s[e]=t},remove:function(e){delete s[e]},removeAll:function(){s={}}}}const x={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class to{constructor(e){this.parser=e,this.name=x.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const i=t[n];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const i=t.json,a=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let u;const f=new N(16777215);a.color!==void 0&&f.fromArray(a.color);const l=a.range!==void 0?a.range:0;switch(a.type){case"directional":u=new zn(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new qn(f),u.distance=l;break;case"spot":u=new Zn(f),u.distance=l,a.spot=a.spot||{},a.spot.innerConeAngle=a.spot.innerConeAngle!==void 0?a.spot.innerConeAngle:0,a.spot.outerConeAngle=a.spot.outerConeAngle!==void 0?a.spot.outerConeAngle:Math.PI/4,u.angle=a.spot.outerConeAngle,u.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return u.position.set(0,0,0),u.decay=2,a.intensity!==void 0&&(u.intensity=a.intensity),u.name=t.createUniqueName(a.name||"light_"+e),r=Promise.resolve(u),t.cache.add(n,r),r}createNodeAttachment(e){const t=this,n=this.parser,i=n.json.nodes[e],c=(i.extensions&&i.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(a){return n._getNodeRef(t.cache,c,a)})}}class so{constructor(){this.name=x.KHR_MATERIALS_UNLIT}getMaterialType(){return Re}extendParams(e,t,n){const r=[];e.color=new N(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const o=i.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}i.baseColorTexture!==void 0&&r.push(n.assignTexture(e,"map",i.baseColorTexture,re))}return Promise.all(r)}}class no{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name].emissiveStrength;return i!==void 0&&(t.emissiveIntensity=i),Promise.resolve()}}class ro{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:fe}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&i.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(i.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const c=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new en(c,c)}return Promise.all(i)}}class io{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:fe}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&i.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&i.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class oo{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:fe}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new N(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&i.push(n.assignTexture(t,"sheenColorMap",o.sheenColorTexture,re)),o.sheenRoughnessTexture!==void 0&&i.push(n.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(i)}}class ao{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:fe}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&i.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class co{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:fe}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&i.push(n.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const c=o.attenuationColor||[1,1,1];return t.attenuationColor=new N(c[0],c[1],c[2]),Promise.all(i)}}class uo{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:fe}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return t.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class lo{constructor(e){this.parser=e,this.name=x.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return!n.extensions||!n.extensions[this.name]?null:fe}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&i.push(n.assignTexture(t,"specularIntensityMap",o.specularTexture));const c=o.specularColorFactor||[1,1,1];return t.specularColor=new N(c[0],c[1],c[2]),o.specularColorTexture!==void 0&&i.push(n.assignTexture(t,"specularColorMap",o.specularColorTexture,re)),Promise.all(i)}}class fo{constructor(e){this.parser=e,this.name=x.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,o)}}class ho{constructor(e){this.parser=e,this.name=x.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],c=r.images[o.source];let a=n.textureLoader;if(c.uri){const u=n.options.manager.getHandler(c.uri);u!==null&&(a=u)}return this.detectSupport().then(function(u){if(u)return n.loadTextureImage(e,o.source,a);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ao{constructor(e){this.name=x.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(c){const a=r.byteOffset||0,u=r.byteLength||0,f=r.count,l=r.byteStride,d=new Uint8Array(c,a,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,l,d,r.mode,r.filter).then(function(A){return A.buffer}):o.ready.then(function(){const A=new ArrayBuffer(f*l);return o.decodeGltfBuffer(new Uint8Array(A),f,l,d,r.mode,r.filter),A})})}else return null}}const Un="glTF",Ge=12,ks={JSON:1313821514,BIN:5130562};class Bo{constructor(e){this.name=x.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ge);if(this.header={magic:ae.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Un)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Ge,r=new DataView(e,Ge);let i=0;for(;i<n;){const o=r.getUint32(i,!0);i+=4;const c=r.getUint32(i,!0);if(i+=4,c===ks.JSON){const a=new Uint8Array(e,Ge+i,o);this.content=ae.decodeText(a)}else if(c===ks.BIN){const a=Ge+i;this.body=e.slice(a,a+o)}i+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class mo{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=x.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,c={},a={},u={};for(const f in o){const l=jt[f]||f.toLowerCase();c[l]=o[f]}for(const f in e.attributes){const l=jt[f]||f.toLowerCase();if(o[f]!==void 0){const d=n.accessors[e.attributes[f]],A=Ke[d.componentType];u[l]=A.name,a[l]=d.normalized===!0}}return t.getDependency("bufferView",i).then(function(f){return new Promise(function(l){r.decodeDracoFile(f,function(d){for(const A in d.attributes){const h=d.attributes[A],m=a[A];m!==void 0&&(h.normalized=m)}l(d)},c,u)})})}}class po{constructor(){this.name=x.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Qt extends Yt{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),n=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),c={specular:{value:new N().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=c,this.onBeforeCompile=function(a){for(const u in c)a.uniforms[u]=c[u];a.fragmentShader=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return c.specular.value},set:function(a){c.specular.value=a}},specularMap:{get:function(){return c.specularMap.value},set:function(a){c.specularMap.value=a,a?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(a){c.glossiness.value=a}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(a){c.glossinessMap.value=a,a?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Co{constructor(){this.name=x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Qt}extendParams(e,t,n){const r=t.extensions[this.name];e.color=new N(1,1,1),e.opacity=1;const i=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&i.push(n.assignTexture(e,"map",r.diffuseTexture,re)),e.emissive=new N(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new N(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o,re))}return Promise.all(i)}createMaterial(e){const t=new Qt(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=$n,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class go{constructor(){this.name=x.KHR_MESH_QUANTIZATION}}class Kn extends wr{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let o=0;o!==r;o++)t[o]=n[i+o];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,c=this.valueSize,a=c*2,u=c*3,f=r-t,l=(n-t)/f,d=l*l,A=d*l,h=e*u,m=h-u,p=-2*A+3*d,g=A-d,b=1-p,B=g-d+l;for(let C=0;C!==c;C++){const y=o[m+C+c],F=o[m+C+a]*f,S=o[h+C+c],R=o[h+C]*f;i[C]=b*y+B*F+p*S+g*R}return i}}const Mo=new mr;class Eo extends Kn{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return Mo.fromArray(i).normalize().toArray(i),i}}const q={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ke={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Ns={9728:pr,9729:nt,9984:Cr,9985:gr,9986:Mr,9987:sn},Qs={33071:Er,33648:br,10497:wt},js={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},jt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ee={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},bo={CUBICSPLINE:void 0,LINEAR:rn,STEP:yr},It={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function yo(s){return s.DefaultMaterial===void 0&&(s.DefaultMaterial=new Yt({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Fr})),s.DefaultMaterial}function Ie(s,e,t){for(const n in t.extensions)s[n]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function ie(s,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(s.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Fo(s,e,t){let n=!1,r=!1,i=!1;for(let u=0,f=e.length;u<f;u++){const l=e[u];if(l.POSITION!==void 0&&(n=!0),l.NORMAL!==void 0&&(r=!0),l.COLOR_0!==void 0&&(i=!0),n&&r&&i)break}if(!n&&!r&&!i)return Promise.resolve(s);const o=[],c=[],a=[];for(let u=0,f=e.length;u<f;u++){const l=e[u];if(n){const d=l.POSITION!==void 0?t.getDependency("accessor",l.POSITION):s.attributes.position;o.push(d)}if(r){const d=l.NORMAL!==void 0?t.getDependency("accessor",l.NORMAL):s.attributes.normal;c.push(d)}if(i){const d=l.COLOR_0!==void 0?t.getDependency("accessor",l.COLOR_0):s.attributes.color;a.push(d)}}return Promise.all([Promise.all(o),Promise.all(c),Promise.all(a)]).then(function(u){const f=u[0],l=u[1],d=u[2];return n&&(s.morphAttributes.position=f),r&&(s.morphAttributes.normal=l),i&&(s.morphAttributes.color=d),s.morphTargetsRelative=!0,s})}function Go(s,e){if(s.updateMorphTargets(),e.weights!==void 0)for(let t=0,n=e.weights.length;t<n;t++)s.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(s.morphTargetInfluences.length===t.length){s.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)s.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Io(s){const e=s.extensions&&s.extensions[x.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+Xs(e.attributes):t=s.indices+":"+Xs(s.attributes)+":"+s.mode,t}function Xs(s){let e="";const t=Object.keys(s).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+s[t[n]]+";";return e}function Xt(s){switch(s){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ro(s){return s.search(/\.jpe?g($|\?)/i)>0||s.search(/^data\:image\/jpeg/)===0?"image/jpeg":s.search(/\.webp($|\?)/i)>0||s.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class So{constructor(e={},t={}){var n,r;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new eo,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const i=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((n=navigator.userAgent)===null||n===void 0?void 0:n.indexOf("Firefox"))>-1,c=typeof navigator<"u"&&o?(r=navigator.userAgent)===null||r===void 0?void 0:r.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||i||o&&c<98?this.textureLoader=new tn(this.options.manager):this.textureLoader=new er(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new tt(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(o){const c={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:n,userData:{}};Ie(i,c,r),ie(c,r),Promise.all(n._invokeAll(function(a){return a.afterRoot&&a.afterRoot(c)})).then(function(){e(c)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,i=t.length;r<i;r++){const o=t[r].joints;for(let c=0,a=o.length;c<a;c++)e[o[c]].isBone=!0}for(let r=0,i=e.length;r<i;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(n[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(o,c)=>{const a=this.associations.get(o);a!=null&&this.associations.set(c,a);for(const[u,f]of o.children.entries())i(f,c.children[u])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(i,o){return n.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[x.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(i,o){n.load(ae.resolveURL(t.uri,r.path),i,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const r=t.byteLength||0,i=t.byteOffset||0;return n.slice(i,i+r)})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const i=[];return r.bufferView!==void 0?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),r.sparse!==void 0&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then(function(o){const c=o[0],a=js[r.type],u=Ke[r.componentType],f=u.BYTES_PER_ELEMENT,l=f*a,d=r.byteOffset||0,A=r.bufferView!==void 0?n.bufferViews[r.bufferView].byteStride:void 0,h=r.normalized===!0;let m,p;if(A&&A!==l){const g=Math.floor(d/A),b="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let B=t.cache.get(b);B||(m=new u(c,g*A,r.count*A/f),B=new tr(m,A/f),t.cache.add(b,B)),p=new Gr(B,a,d%A/f,h)}else c===null?m=new u(r.count*a):m=new u(c,d,r.count*a),p=new st(m,a,h);if(r.sparse!==void 0){const g=js.SCALAR,b=Ke[r.sparse.indices.componentType],B=r.sparse.indices.byteOffset||0,C=r.sparse.values.byteOffset||0,y=new b(o[1],B,r.sparse.count*g),F=new u(o[2],C,r.sparse.count*a);c!==null&&(p=new st(p.array.slice(),p.itemSize,p.normalized));for(let S=0,R=y.length;S<R;S++){const I=y[S];if(p.setX(I,F[S*a]),a>=2&&p.setY(I,F[S*a+1]),a>=3&&p.setZ(I,F[S*a+2]),a>=4&&p.setW(I,F[S*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return p})}loadTexture(e){const t=this.json,n=this.options,i=t.textures[e].source,o=t.images[i];let c=this.textureLoader;if(o.uri){const a=n.manager.getHandler(o.uri);a!==null&&(c=a)}return this.loadTextureImage(e,i,c)}loadTextureImage(e,t,n){const r=this,i=this.json,o=i.textures[e],c=i.images[t],a=(c.uri||c.bufferView)+":"+o.sampler;if(this.textureCache[a])return this.textureCache[a];const u=this.loadImageSource(t,n).then(function(f){f.flipY=!1,o.name&&(f.name=o.name);const d=(i.samplers||{})[o.sampler]||{};return f.magFilter=Ns[d.magFilter]||nt,f.minFilter=Ns[d.minFilter]||sn,f.wrapS=Qs[d.wrapS]||wt,f.wrapT=Qs[d.wrapT]||wt,r.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[a]=u,u}loadImageSource(e,t){const n=this,r=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(l=>l.clone());const o=r.images[e],c=self.URL||self.webkitURL;let a=o.uri||"",u=!1;if(o.bufferView!==void 0)a=n.getDependency("bufferView",o.bufferView).then(function(l){u=!0;const d=new Blob([l],{type:o.mimeType});return a=c.createObjectURL(d),a});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(a).then(function(l){return new Promise(function(d,A){let h=d;t.isImageBitmapLoader===!0&&(h=function(m){const p=new Bs(m);p.needsUpdate=!0,d(p)}),t.load(ae.resolveURL(l,i.path),h,void 0,A)})}).then(function(l){return u===!0&&c.revokeObjectURL(a),l.userData.mimeType=o.mimeType||Ro(o.uri),l}).catch(function(l){throw console.error("THREE.GLTFLoader: Couldn't load texture",a),l});return this.sourceCache[e]=f,f}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then(function(o){if(n.texCoord!==void 0&&n.texCoord!=0&&!(t==="aoMap"&&n.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[x.KHR_TEXTURE_TRANSFORM]){const c=n.extensions!==void 0?n.extensions[x.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const a=i.associations.get(o);o=i.extensions[x.KHR_TEXTURE_TRANSFORM].extendTexture(o,c),i.associations.set(o,a)}}return r!==void 0&&(o.encoding=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=t.attributes.tangent===void 0,i=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const c="PointsMaterial:"+n.uuid;let a=this.cache.get(c);a||(a=new sr,gt.prototype.copy.call(a,n),a.color.copy(n.color),a.map=n.map,a.sizeAttenuation=!1,this.cache.add(c,a)),n=a}else if(e.isLine){const c="LineBasicMaterial:"+n.uuid;let a=this.cache.get(c);a||(a=new nr,gt.prototype.copy.call(a,n),a.color.copy(n.color),this.cache.add(c,a)),n=a}if(r||i||o){let c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),o&&(c+="flat-shading:");let a=this.cache.get(c);a||(a=n.clone(),i&&(a.vertexColors=!0),o&&(a.flatShading=!0),r&&(a.normalScale&&(a.normalScale.y*=-1),a.clearcoatNormalScale&&(a.clearcoatNormalScale.y*=-1)),this.cache.add(c,a),this.associations.set(a,this.associations.get(n))),n=a}n.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return Yt}loadMaterial(e){const t=this,n=this.json,r=this.extensions,i=n.materials[e];let o;const c={},a=i.extensions||{},u=[];if(a[x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const l=r[x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=l.getMaterialType(),u.push(l.extendParams(c,i,t))}else if(a[x.KHR_MATERIALS_UNLIT]){const l=r[x.KHR_MATERIALS_UNLIT];o=l.getMaterialType(),u.push(l.extendParams(c,i,t))}else{const l=i.pbrMetallicRoughness||{};if(c.color=new N(1,1,1),c.opacity=1,Array.isArray(l.baseColorFactor)){const d=l.baseColorFactor;c.color.fromArray(d),c.opacity=d[3]}l.baseColorTexture!==void 0&&u.push(t.assignTexture(c,"map",l.baseColorTexture,re)),c.metalness=l.metallicFactor!==void 0?l.metallicFactor:1,c.roughness=l.roughnessFactor!==void 0?l.roughnessFactor:1,l.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(c,"metalnessMap",l.metallicRoughnessTexture)),u.push(t.assignTexture(c,"roughnessMap",l.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,c)})))}i.doubleSided===!0&&(c.side=zs);const f=i.alphaMode||It.OPAQUE;if(f===It.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,f===It.MASK&&(c.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&o!==Re&&(u.push(t.assignTexture(c,"normalMap",i.normalTexture)),c.normalScale=new en(1,1),i.normalTexture.scale!==void 0)){const l=i.normalTexture.scale;c.normalScale.set(l,l)}return i.occlusionTexture!==void 0&&o!==Re&&(u.push(t.assignTexture(c,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&o!==Re&&(c.emissive=new N().fromArray(i.emissiveFactor)),i.emissiveTexture!==void 0&&o!==Re&&u.push(t.assignTexture(c,"emissiveMap",i.emissiveTexture,re)),Promise.all(u).then(function(){let l;return o===Qt?l=r[x.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):l=new o(c),i.name&&(l.name=i.name),ie(l,i),t.associations.set(l,{materials:e}),i.extensions&&Ie(r,l,i),l})}createUniqueName(e){const t=rr.sanitizeNodeName(e||"");let n=t;for(let r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function i(c){return n[x.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,t).then(function(a){return Ys(a,c,t)})}const o=[];for(let c=0,a=e.length;c<a;c++){const u=e[c],f=Io(u),l=r[f];if(l)o.push(l.promise);else{let d;u.extensions&&u.extensions[x.KHR_DRACO_MESH_COMPRESSION]?d=i(u):d=Ys(new nn,u,t),r[f]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,n=this.json,r=this.extensions,i=n.meshes[e],o=i.primitives,c=[];for(let a=0,u=o.length;a<u;a++){const f=o[a].material===void 0?yo(this.cache):this.getDependency("material",o[a].material);c.push(f)}return c.push(t.loadGeometries(o)),Promise.all(c).then(function(a){const u=a.slice(0,a.length-1),f=a[a.length-1],l=[];for(let A=0,h=f.length;A<h;A++){const m=f[A],p=o[A];let g;const b=u[A];if(p.mode===q.TRIANGLES||p.mode===q.TRIANGLE_STRIP||p.mode===q.TRIANGLE_FAN||p.mode===void 0)g=i.isSkinnedMesh===!0?new ir(m,b):new Zs(m,b),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),p.mode===q.TRIANGLE_STRIP?g.geometry=Vs(g.geometry,Ir):p.mode===q.TRIANGLE_FAN&&(g.geometry=Vs(g.geometry,on));else if(p.mode===q.LINES)g=new or(m,b);else if(p.mode===q.LINE_STRIP)g=new ar(m,b);else if(p.mode===q.LINE_LOOP)g=new cr(m,b);else if(p.mode===q.POINTS)g=new ur(m,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);Object.keys(g.geometry.morphAttributes).length>0&&Go(g,i),g.name=t.createUniqueName(i.name||"mesh_"+e),ie(g,i),p.extensions&&Ie(r,g,p),t.assignFinalMaterial(g),l.push(g)}for(let A=0,h=l.length;A<h;A++)t.associations.set(l[A],{meshes:e,primitives:A});if(l.length===1)return l[0];const d=new Mt;t.associations.set(d,{meshes:e});for(let A=0,h=l.length;A<h;A++)d.add(l[A]);return d})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?t=new lr(De.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):n.type==="orthographic"&&(t=new fr(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),ie(t,n),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return n.inverseBindMatrices=r,n})}loadAnimation(e){const n=this.json.animations[e],r=[],i=[],o=[],c=[],a=[];for(let u=0,f=n.channels.length;u<f;u++){const l=n.channels[u],d=n.samplers[l.sampler],A=l.target,h=A.node,m=n.parameters!==void 0?n.parameters[d.input]:d.input,p=n.parameters!==void 0?n.parameters[d.output]:d.output;r.push(this.getDependency("node",h)),i.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",p)),c.push(d),a.push(A)}return Promise.all([Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(c),Promise.all(a)]).then(function(u){const f=u[0],l=u[1],d=u[2],A=u[3],h=u[4],m=[];for(let g=0,b=f.length;g<b;g++){const B=f[g],C=l[g],y=d[g],F=A[g],S=h[g];if(B===void 0)continue;B.updateMatrix();let R;switch(ee[S.path]){case ee.weights:R=Sr;break;case ee.rotation:R=ms;break;case ee.position:case ee.scale:default:R=Rr;break}const I=B.name?B.name:B.uuid,w=F.interpolation!==void 0?bo[F.interpolation]:rn,D=[];ee[S.path]===ee.weights?B.traverse(function(v){v.morphTargetInfluences&&D.push(v.name?v.name:v.uuid)}):D.push(I);let _=y.array;if(y.normalized){const v=Xt(_.constructor),P=new Float32Array(_.length);for(let L=0,je=_.length;L<je;L++)P[L]=_[L]*v;_=P}for(let v=0,P=D.length;v<P;v++){const L=new R(D[v]+"."+ee[S.path],C.array,_,w);F.interpolation==="CUBICSPLINE"&&(L.createInterpolant=function(Q){const j=this instanceof ms?Eo:Kn;return new j(this.times,this.values,this.getValueSize()/3,Q)},L.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(L)}}const p=n.name?n.name:"animation_"+e;return new dr(p,void 0,m)})}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return r.mesh===void 0?null:n.getDependency("mesh",r.mesh).then(function(i){const o=n._getNodeRef(n.meshCache,r.mesh,i);return r.weights!==void 0&&o.traverse(function(c){if(!!c.isMesh)for(let a=0,u=r.weights.length;a<u;a++)c.morphTargetInfluences[a]=r.weights[a]}),o})}loadNode(e){const t=this.json,n=this.extensions,r=this,i=t.nodes[e],o=i.name?r.createUniqueName(i.name):"";return function(){const c=[],a=r._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return a&&c.push(a),i.camera!==void 0&&c.push(r.getDependency("camera",i.camera).then(function(u){return r._getNodeRef(r.cameraCache,i.camera,u)})),r._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){c.push(u)}),Promise.all(c)}().then(function(c){let a;if(i.isBone===!0?a=new hr:c.length>1?a=new Mt:c.length===1?a=c[0]:a=new Ar,a!==c[0])for(let u=0,f=c.length;u<f;u++)a.add(c[u]);if(i.name&&(a.userData.name=i.name,a.name=o),ie(a,i),i.extensions&&Ie(n,a,i),i.matrix!==void 0){const u=new an;u.fromArray(i.matrix),a.applyMatrix4(u)}else i.translation!==void 0&&a.position.fromArray(i.translation),i.rotation!==void 0&&a.quaternion.fromArray(i.rotation),i.scale!==void 0&&a.scale.fromArray(i.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a})}loadScene(e){const t=this.json,n=this.extensions,r=this.json.scenes[e],i=this,o=new Mt;r.name&&(o.name=i.createUniqueName(r.name)),ie(o,r),r.extensions&&Ie(n,o,r);const c=r.nodes||[],a=[];for(let u=0,f=c.length;u<f;u++)a.push(kn(c[u],o,t,i));return Promise.all(a).then(function(){const u=f=>{const l=new Map;for(const[d,A]of i.associations)(d instanceof gt||d instanceof Bs)&&l.set(d,A);return f.traverse(d=>{const A=i.associations.get(d);A!=null&&l.set(d,A)}),l};return i.associations=u(o),o})}}function kn(s,e,t,n){const r=t.nodes[s];return n.getDependency("node",s).then(function(i){if(r.skin===void 0)return i;let o;return n.getDependency("skin",r.skin).then(function(c){o=c;const a=[];for(let u=0,f=o.joints.length;u<f;u++)a.push(n.getDependency("node",o.joints[u]));return Promise.all(a)}).then(function(c){return i.traverse(function(a){if(!a.isMesh)return;const u=[],f=[];for(let l=0,d=c.length;l<d;l++){const A=c[l];if(A){u.push(A);const h=new an;o.inverseBindMatrices!==void 0&&h.fromArray(o.inverseBindMatrices.array,l*16),f.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[l])}a.bind(new Br(u,f),a.matrixWorld)}),i})}).then(function(i){e.add(i);const o=[];if(r.children){const c=r.children;for(let a=0,u=c.length;a<u;a++){const f=c[a];o.push(kn(f,i,t,n))}}return Promise.all(o)})}function Do(s,e,t){const n=e.attributes,r=new Dr;if(n.POSITION!==void 0){const c=t.json.accessors[n.POSITION],a=c.min,u=c.max;if(a!==void 0&&u!==void 0){if(r.set(new he(a[0],a[1],a[2]),new he(u[0],u[1],u[2])),c.normalized){const f=Xt(Ke[c.componentType]);r.min.multiplyScalar(f),r.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const c=new he,a=new he;for(let u=0,f=i.length;u<f;u++){const l=i[u];if(l.POSITION!==void 0){const d=t.json.accessors[l.POSITION],A=d.min,h=d.max;if(A!==void 0&&h!==void 0){if(a.setX(Math.max(Math.abs(A[0]),Math.abs(h[0]))),a.setY(Math.max(Math.abs(A[1]),Math.abs(h[1]))),a.setZ(Math.max(Math.abs(A[2]),Math.abs(h[2]))),d.normalized){const m=Xt(Ke[d.componentType]);a.multiplyScalar(m)}c.max(a)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(c)}s.boundingBox=r;const o=new Tr;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,s.boundingSphere=o}function Ys(s,e,t){const n=e.attributes,r=[];function i(o,c){return t.getDependency("accessor",o).then(function(a){s.setAttribute(c,a)})}for(const o in n){const c=jt[o]||o.toLowerCase();c in s.attributes||r.push(i(n[o],c))}if(e.indices!==void 0&&!s.index){const o=t.getDependency("accessor",e.indices).then(function(c){s.setIndex(c)});r.push(o)}return ie(s,e),Do(s,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Fo(s,e.targets,t):s})}function Vs(s,e){let t=s.getIndex();if(t===null){const o=[],c=s.getAttribute("position");if(c!==void 0){for(let a=0;a<c.count;a++)o.push(a);s.setIndex(o),t=s.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),s}const n=t.count-2,r=[];if(e===on)for(let o=1;o<=n;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=s.clone();return i.setIndex(r),i}class To extends xr{constructor(e){super(e),this.type=Ae}parse(e){const c=function(B,C){switch(B){case 1:console.error("THREE.RGBELoader Read Error: "+(C||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(C||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(C||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(C||""))}return-1},l=`
`,d=function(B,C,y){C=C||1024;let S=B.pos,R=-1,I=0,w="",D=String.fromCharCode.apply(null,new Uint16Array(B.subarray(S,S+128)));for(;0>(R=D.indexOf(l))&&I<C&&S<B.byteLength;)w+=D,I+=D.length,S+=128,D+=String.fromCharCode.apply(null,new Uint16Array(B.subarray(S,S+128)));return-1<R?(y!==!1&&(B.pos+=I+R+1),w+D.slice(0,R)):!1},A=function(B){const C=/^#\?(\S+)/,y=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*FORMAT=(\S+)\s*$/,R=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,I={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let w,D;if(B.pos>=B.byteLength||!(w=d(B)))return c(1,"no header found");if(!(D=w.match(C)))return c(3,"bad initial token");for(I.valid|=1,I.programtype=D[1],I.string+=w+`
`;w=d(B),w!==!1;){if(I.string+=w+`
`,w.charAt(0)==="#"){I.comments+=w+`
`;continue}if((D=w.match(y))&&(I.gamma=parseFloat(D[1])),(D=w.match(F))&&(I.exposure=parseFloat(D[1])),(D=w.match(S))&&(I.valid|=2,I.format=D[1]),(D=w.match(R))&&(I.valid|=4,I.height=parseInt(D[1],10),I.width=parseInt(D[2],10)),I.valid&2&&I.valid&4)break}return I.valid&2?I.valid&4?I:c(3,"missing image size specifier"):c(3,"missing format specifier")},h=function(B,C,y){const F=C;if(F<8||F>32767||B[0]!==2||B[1]!==2||B[2]&128)return new Uint8Array(B);if(F!==(B[2]<<8|B[3]))return c(3,"wrong scanline width");const S=new Uint8Array(4*C*y);if(!S.length)return c(4,"unable to allocate buffer space");let R=0,I=0;const w=4*F,D=new Uint8Array(4),_=new Uint8Array(w);let v=y;for(;v>0&&I<B.byteLength;){if(I+4>B.byteLength)return c(1);if(D[0]=B[I++],D[1]=B[I++],D[2]=B[I++],D[3]=B[I++],D[0]!=2||D[1]!=2||(D[2]<<8|D[3])!=F)return c(3,"bad rgbe scanline format");let P=0,L;for(;P<w&&I<B.byteLength;){L=B[I++];const Q=L>128;if(Q&&(L-=128),L===0||P+L>w)return c(3,"bad scanline data");if(Q){const j=B[I++];for(let As=0;As<L;As++)_[P++]=j}else _.set(B.subarray(I,I+L),P),P+=L,I+=L}const je=F;for(let Q=0;Q<je;Q++){let j=0;S[R]=_[Q+j],j+=F,S[R+1]=_[Q+j],j+=F,S[R+2]=_[Q+j],j+=F,S[R+3]=_[Q+j],R+=4}v--}return S},m=function(B,C,y,F){const S=B[C+3],R=Math.pow(2,S-128)/255;y[F+0]=B[C+0]*R,y[F+1]=B[C+1]*R,y[F+2]=B[C+2]*R,y[F+3]=1},p=function(B,C,y,F){const S=B[C+3],R=Math.pow(2,S-128)/255;y[F+0]=Xe.toHalfFloat(Math.min(B[C+0]*R,65504)),y[F+1]=Xe.toHalfFloat(Math.min(B[C+1]*R,65504)),y[F+2]=Xe.toHalfFloat(Math.min(B[C+2]*R,65504)),y[F+3]=Xe.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const b=A(g);if(b!==-1){const B=b.width,C=b.height,y=h(g.subarray(g.pos),B,C);if(y!==-1){let F,S,R;switch(this.type){case ze:R=y.length/4;const I=new Float32Array(R*4);for(let D=0;D<R;D++)m(y,D*4,I,D*4);F=I,S=ze;break;case Ae:R=y.length/4;const w=new Uint16Array(R*4);for(let D=0;D<R;D++)p(y,D*4,w,D*4);F=w,S=Ae;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:B,height:C,data:F,header:b.string,gamma:b.gamma,exposure:b.exposure,type:S}}}return null}setDataType(e){return this.type=e,this}load(e,t,n,r){function i(o,c){switch(o.type){case ze:case Ae:o.encoding=cn,o.minFilter=nt,o.magFilter=nt,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,c)}return super.load(e,i,n,r)}}const Rt=new WeakMap;class wo extends $s{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const i=new tt(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,o=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,c).then(t).catch(r)},n,r)}decodeDracoFile(e,t,n,r){const i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){for(const a in t.attributeTypes){const u=t.attributeTypes[a];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[a]=u.name)}const n=JSON.stringify(t);if(Rt.has(e)){const a=Rt.get(e);if(a.key===n)return a.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,o=e.byteLength,c=this._getWorker(i,o).then(a=>(r=a,new Promise((u,f)=>{r._callbacks[i]={resolve:u,reject:f},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))).then(a=>this._createGeometry(a.geometry));return c.catch(()=>!0).then(()=>{r&&i&&this._releaseTask(r,i)}),Rt.set(e,{key:n,promise:c}),c}_createGeometry(e){const t=new nn;e.index&&t.setIndex(new st(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],i=r.name,o=r.array,c=r.itemSize;t.setAttribute(i,new st(o,c))}return t}_loadLibrary(e,t){const n=new tt(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((r,i)=>{n.load(e,r,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(n=>{const r=n[0];e||(this.decoderConfig.wasmBinary=n[1]);const i=xo.toString(),o=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(i){const o=i.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,i){return r._taskLoad>i._taskLoad?-1:1});const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function xo(){let s,e;onmessage=function(o){const c=o.data;switch(c.type){case"init":s=c.decoderConfig,e=new Promise(function(f){s.onModuleLoaded=function(l){f({draco:l})},DracoDecoderModule(s)});break;case"decode":const a=c.buffer,u=c.taskConfig;e.then(f=>{const l=f.draco,d=new l.Decoder,A=new l.DecoderBuffer;A.Init(new Int8Array(a),a.byteLength);try{const h=t(l,d,A,u),m=h.attributes.map(p=>p.array.buffer);h.index&&m.push(h.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:h},m)}catch(h){console.error(h),self.postMessage({type:"error",id:c.id,error:h.message})}finally{l.destroy(A),l.destroy(d)}});break}};function t(o,c,a,u){const f=u.attributeIDs,l=u.attributeTypes;let d,A;const h=c.GetEncodedGeometryType(a);if(h===o.TRIANGULAR_MESH)d=new o.Mesh,A=c.DecodeBufferToMesh(a,d);else if(h===o.POINT_CLOUD)d=new o.PointCloud,A=c.DecodeBufferToPointCloud(a,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!A.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+A.error_msg());const m={index:null,attributes:[]};for(const p in f){const g=self[l[p]];let b,B;if(u.useUniqueIDs)B=f[p],b=c.GetAttributeByUniqueId(d,B);else{if(B=c.GetAttributeId(d,o[f[p]]),B===-1)continue;b=c.GetAttribute(d,B)}m.attributes.push(r(o,c,d,p,g,b))}return h===o.TRIANGULAR_MESH&&(m.index=n(o,c,d)),o.destroy(d),m}function n(o,c,a){const f=a.num_faces()*3,l=f*4,d=o._malloc(l);c.GetTrianglesUInt32Array(a,l,d);const A=new Uint32Array(o.HEAPF32.buffer,d,f).slice();return o._free(d),{array:A,itemSize:1}}function r(o,c,a,u,f,l){const d=l.num_components(),h=a.num_points()*d,m=h*f.BYTES_PER_ELEMENT,p=i(o,f),g=o._malloc(m);c.GetAttributeDataArrayForAllPoints(a,l,p,m,g);const b=new f(o.HEAPF32.buffer,g,h).slice();return o._free(g),{name:u,array:b,itemSize:d}}function i(o,c){switch(c){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Ze;const St=()=>{if(Ze)return Ze;const s="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",e="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",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),n=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=s;WebAssembly.validate(t)&&(r=e);let i;const o=WebAssembly.instantiate(c(r),{}).then(l=>{i=l.instance,i.exports.__wasm_call_ctors()});function c(l){const d=new Uint8Array(l.length);for(let h=0;h<l.length;++h){const m=l.charCodeAt(h);d[h]=m>96?m-71:m>64?m-65:m>47?m+4:m>46?63:62}let A=0;for(let h=0;h<l.length;++h)d[A++]=d[h]<60?n[d[h]]:(d[h]-60)*64+d[++h];return d.buffer.slice(0,A)}function a(l,d,A,h,m,p){const g=i.exports.sbrk,b=A+3&-4,B=g(b*h),C=g(m.length),y=new Uint8Array(i.exports.memory.buffer);y.set(m,C);const F=l(B,A,h,C,m.length);if(F===0&&p&&p(B,b,h),d.set(y.subarray(B,B+A*h)),g(B-g(0)),F!==0)throw new Error(`Malformed buffer data: ${F}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Ze={ready:o,supported:!0,decodeVertexBuffer(l,d,A,h,m){a(i.exports.meshopt_decodeVertexBuffer,l,d,A,h,i.exports[u[m]])},decodeIndexBuffer(l,d,A,h){a(i.exports.meshopt_decodeIndexBuffer,l,d,A,h)},decodeIndexSequence(l,d,A,h){a(i.exports.meshopt_decodeIndexSequence,l,d,A,h)},decodeGltfBuffer(l,d,A,h,m,p){a(i.exports[f[m]],l,d,A,h,i.exports[u[p]])}},Ze};function Nn(s,e,t,n){const r=class extends qs{constructor(o={}){const c=Object.entries(s);super({uniforms:c.reduce((a,[u,f])=>{const l=Hr.clone({[u]:{value:f}});return{...a,...l}},{}),vertexShader:e,fragmentShader:t,...o}),this.key="",c.forEach(([a])=>Object.defineProperty(this,a,{get:()=>this.uniforms[a].value,set:u=>this.uniforms[a].value=u})),n&&n(this)}};return r.key=De.generateUUID(),r}let qe=null;function Qn(s,e,t){return n=>{t&&t(n),s&&(qe||(qe=new wo),qe.setDecoderPath(typeof s=="string"?s:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),n.setDRACOLoader(qe)),e&&n.setMeshoptDecoder(typeof St=="function"?St():St)}}function Ct(s,e=!0,t=!0,n){return ke(ls,s,Qn(e,t,n))}Ct.preload=(s,e=!0,t=!0,n)=>ke.preload(ls,s,Qn(e,t,n));Ct.clear=s=>ke.clear(ls,s);const Dt={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},Ho="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",_o=s=>s.current&&s.current.isScene,vo=s=>_o(s)?s.current:s;function fs(s,e,t,n,r=0){const i=vo(e||t),o=i.background,c=i.environment,a=i.backgroundBlurriness||0;return s!=="only"&&(i.environment=n),s&&(i.background=n),s&&i.backgroundBlurriness!==void 0&&(i.backgroundBlurriness=r),()=>{s!=="only"&&(i.environment=c),s&&(i.background=o),s&&i.backgroundBlurriness!==void 0&&(i.backgroundBlurriness=a)}}function ds({scene:s,background:e=!1,blur:t,map:n}){const r=ce(i=>i.scene);return G.exports.useLayoutEffect(()=>{if(n)return fs(e,s,r,n,t)},[r,s,n,e,t]),null}function jn({files:s=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:n=void 0,extensions:r}){if(t){if(!(t in Dt))throw new Error("Preset must be one of: "+Object.keys(Dt).join(", "));s=Dt[t],e=Ho}const i=Array.isArray(s),c=ke(i?Jr:To,i?[s]:s,u=>{u.setPath(e),r&&r(u)}),a=i?c[0]:c;return a.mapping=i?Pr:Or,a.encoding=(n!=null?n:i)?re:cn,a}function Xn({background:s=!1,scene:e,blur:t,...n}){const r=jn(n),i=ce(o=>o.scene);return G.exports.useLayoutEffect(()=>fs(s,e,i,r,t),[r,s,e,i,t]),null}function Lo({children:s,near:e=1,far:t=1e3,resolution:n=256,frames:r=1,map:i,background:o=!1,blur:c,scene:a,files:u,path:f,preset:l=void 0,extensions:d}){const A=ce(B=>B.gl),h=ce(B=>B.scene),m=G.exports.useRef(null),[p]=G.exports.useState(()=>new _r),g=G.exports.useMemo(()=>{const B=new vr(n);return B.texture.type=Ae,B},[n]);G.exports.useLayoutEffect(()=>(r===1&&m.current.update(A,p),fs(o,a,h,g.texture,c)),[s,p,g.texture,a,h,o,r,A]);let b=1;return Vt(()=>{(r===1/0||b<r)&&(m.current.update(A,p),b++)}),M(rt,{children:Lr(pe(rt,{children:[s,M("cubeCamera",{ref:m,args:[e,t,g]}),u||l?M(Xn,{background:!0,files:u,preset:l,path:f,extensions:d}):i?M(ds,{background:!0,map:i,extensions:d}):null]}),p)})}function Jo(s){var e,t,n,r;const i=jn(s),o=s.map||i;G.exports.useMemo(()=>un({GroundProjectedEnvImpl:$i}),[]);const c=G.exports.useMemo(()=>[o],[o]),a=(e=s.ground)==null?void 0:e.height,u=(t=s.ground)==null?void 0:t.radius,f=(n=(r=s.ground)==null?void 0:r.scale)!==null&&n!==void 0?n:1e3;return pe(rt,{children:[M(ds,{...s,map:o}),M("groundProjectedEnvImpl",{args:c,scale:f,height:a,radius:u})]})}function Po(s){return s.ground?M(Jo,{...s}):s.map?M(ds,{...s}):s.children?M(Lo,{...s}):M(Xn,{...s})}function Oo(s){return s.isLight}function Uo(s){return!!s.geometry}const Yn=G.exports.createContext(null),Ko=Nn({color:new N,blend:2,alphaTest:.75,opacity:0,map:null},`varying vec2 vUv;
   void main() {
     gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
     vUv = uv;
   }`,`varying vec2 vUv;
   uniform sampler2D map;
   uniform vec3 color;
   uniform float opacity;
   uniform float alphaTest;
   uniform float blend;
   void main() {
     vec4 sampledDiffuseColor = texture2D(map, vUv);
     gl_FragColor = vec4(color * sampledDiffuseColor.r * blend, max(0.0, (1.0 - (sampledDiffuseColor.r + sampledDiffuseColor.g + sampledDiffuseColor.b) / alphaTest)) * opacity);
     #include <tonemapping_fragment>
     #include <encodings_fragment>
   }`),ko=Nn({},"void main() { gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }","void main() { discard; }"),No=G.exports.forwardRef(({children:s,temporal:e,frames:t=40,limit:n=1/0,blend:r=20,scale:i=10,opacity:o=1,alphaTest:c=.75,color:a="black",colorBlend:u=2,resolution:f=1024,toneMapped:l=!0,...d},A)=>{un({SoftShadowMaterial:Ko});const h=ce(y=>y.gl),m=ce(y=>y.scene),p=ce(y=>y.camera),g=G.exports.useRef(null),b=G.exports.useRef(null),[B]=G.exports.useState(()=>new jo(h,m,f));G.exports.useLayoutEffect(()=>{B.configure(g.current)},[]);const C=G.exports.useMemo(()=>({lights:new Map,temporal:!!e,frames:Math.max(2,t),blend:Math.max(2,t===1/0?r:t),count:0,getMesh:()=>g.current,reset:()=>{B.clear();const y=g.current.material;y.opacity=0,y.alphaTest=0,C.count=0},update:(y=1)=>{const F=g.current.material;C.temporal?(F.opacity=Math.min(o,F.opacity+o/C.blend),F.alphaTest=Math.min(c,F.alphaTest+c/C.blend)):(F.opacity=o,F.alphaTest=c),b.current.visible=!0,B.prepare();for(let S=0;S<y;S++)C.lights.forEach(R=>R.update()),B.update(p,C.blend);b.current.visible=!1,B.finish()}}),[B,p,m,e,t,r,o,c]);return G.exports.useLayoutEffect(()=>{C.reset(),!C.temporal&&C.frames!==1/0&&C.update(C.blend)}),G.exports.useImperativeHandle(A,()=>C,[C]),Vt(()=>{(C.temporal||C.frames===1/0)&&C.count<C.frames&&C.count<n&&(C.update(),C.count++)}),G.exports.createElement("group",d,G.exports.createElement("group",{traverse:()=>null,ref:b},G.exports.createElement(Yn.Provider,{value:C},s)),pe("mesh",{receiveShadow:!0,ref:g,scale:i,rotation:[-Math.PI/2,0,0],children:[M("planeGeometry",{}),M("softShadowMaterial",{transparent:!0,depthWrite:!1,toneMapped:l,color:a,blend:u,map:B.progressiveLightMap2.texture})]}))}),Qo=G.exports.forwardRef(({castShadow:s=!0,bias:e=.001,mapSize:t=512,size:n=5,near:r=.5,far:i=500,frames:o=1,position:c=[0,0,0],radius:a=1,amount:u=8,intensity:f=1,ambient:l=.5,...d},A)=>{const h=G.exports.useRef(null),m=new he(...c).length(),p=G.exports.useContext(Yn),g=G.exports.useCallback(()=>{let B;if(h.current)for(let C=0;C<h.current.children.length;C++)if(B=h.current.children[C],Math.random()>l)B.position.set(c[0]+De.randFloatSpread(a),c[1]+De.randFloatSpread(a),c[2]+De.randFloatSpread(a));else{let y=Math.acos(2*Math.random()-1)-Math.PI/2,F=2*Math.PI*Math.random();B.position.set(Math.cos(y)*Math.cos(F)*m,Math.abs(Math.cos(y)*Math.sin(F)*m),Math.sin(y)*m)}},[a,l,m,...c]),b=G.exports.useMemo(()=>({update:g}),[g]);return G.exports.useImperativeHandle(A,()=>b,[b]),G.exports.useLayoutEffect(()=>{const B=h.current;return p&&p.lights.set(B.uuid,b),()=>void p.lights.delete(B.uuid)},[p,b]),M("group",{ref:h,...d,children:Array.from({length:u},(B,C)=>M("directionalLight",{castShadow:s,"shadow-bias":e,"shadow-mapSize":[t,t],intensity:f/u,children:M("orthographicCamera",{attach:"shadow-camera",args:[-n,n,n,-n,r,i]})},C))})});class jo{constructor(e,t,n=1024){this.renderer=e,this.res=n,this.scene=t,this.buffer1Active=!1,this.lights=[],this.meshes=[],this.object=null;const r=/(Android|iPad|iPhone|iPod)/g.test(navigator.userAgent)?Ae:ze;this.progressiveLightMap1=new ps(this.res,this.res,{type:r,encoding:e.outputEncoding}),this.progressiveLightMap2=new ps(this.res,this.res,{type:r,encoding:e.outputEncoding}),this.discardMat=new ko,this.targetMat=new Ur({shininess:0}),this.previousShadowMap={value:this.progressiveLightMap1.texture},this.averagingWindow={value:100},this.targetMat.onBeforeCompile=i=>{i.vertexShader=`varying vec2 vUv;
`+i.vertexShader.slice(0,-1)+"vUv = uv; gl_Position = vec4((uv - 0.5) * 2.0, 1.0, 1.0); }";const o=i.fragmentShader.indexOf("void main() {");i.fragmentShader=i.fragmentShader.replace("#include <clipping_planes_pars_fragment>",`#include <clipping_planes_pars_fragment>
#include <shadowmask_pars_fragment>
`),i.fragmentShader=`varying vec2 vUv;
`+i.fragmentShader.slice(0,o)+`	uniform sampler2D previousShadowMap;
	uniform float averagingWindow;
`+i.fragmentShader.slice(o-1,-1)+`
vec3 texelOld = texture2D(previousShadowMap, vUv).rgb;
        gl_FragColor.rgb = mix(texelOld, gl_FragColor.rgb, 1.0/averagingWindow);
      }`,i.uniforms.previousShadowMap=this.previousShadowMap,i.uniforms.averagingWindow=this.averagingWindow}}clear(){this.renderer.setRenderTarget(this.progressiveLightMap1),this.renderer.clear(),this.renderer.setRenderTarget(this.progressiveLightMap2),this.renderer.clear(),this.lights=[],this.meshes=[],this.scene.traverse(e=>{Uo(e)?this.meshes.push({object:e,material:e.material}):Oo(e)&&this.lights.push({object:e,intensity:e.intensity})})}prepare(){this.lights.forEach(e=>e.object.intensity=0),this.meshes.forEach(e=>e.object.material=this.discardMat)}finish(){this.lights.forEach(e=>e.object.intensity=e.intensity),this.meshes.forEach(e=>e.object.material=e.material)}configure(e){this.object=e}update(e,t=100){if(!this.object)return;this.averagingWindow.value=t,this.object.material=this.targetMat;const n=this.buffer1Active?this.progressiveLightMap1:this.progressiveLightMap2,r=this.buffer1Active?this.progressiveLightMap2:this.progressiveLightMap1,i=this.scene.background;this.scene.background=null,this.renderer.setRenderTarget(n),this.previousShadowMap.value=r.texture,this.buffer1Active=!this.buffer1Active,this.renderer.render(this.scene,e),this.renderer.setRenderTarget(null),this.scene.background=i}}function hs(s,e){if(s==null)return{};var t={},n=Object.keys(s),r,i;for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&(t[r]=s[r]);return t}const Xo=["style","children","scrollTop","scrollLeft"],Vn=/^--/;function Yo(s,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!Vn.test(s)&&!(He.hasOwnProperty(s)&&He[s])?e+"px":(""+e).trim()}const Ws={};function Vo(s,e){if(!s.nodeType||!s.setAttribute)return!1;const t=s.nodeName==="filter"||s.parentNode&&s.parentNode.nodeName==="filter",n=e,{style:r,children:i,scrollTop:o,scrollLeft:c}=n,a=hs(n,Xo),u=Object.values(a),f=Object.keys(a).map(l=>t||s.hasAttribute(l)?l:Ws[l]||(Ws[l]=l.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(s.textContent=i);for(let l in r)if(r.hasOwnProperty(l)){const d=Yo(l,r[l]);Vn.test(l)?s.style.setProperty(l,d):s.style[l]=d}f.forEach((l,d)=>{s.setAttribute(l,u[d])}),o!==void 0&&(s.scrollTop=o),c!==void 0&&(s.scrollLeft=c)}let He={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Wo=(s,e)=>s+e.charAt(0).toUpperCase()+e.substring(1),Zo=["Webkit","Ms","Moz","O"];He=Object.keys(He).reduce((s,e)=>(Zo.forEach(t=>s[Wo(t,e)]=s[e]),s),He);const qo=["x","y","z"],zo=/^(matrix|translate|scale|rotate|skew)/,$o=/^(translate)/,ea=/^(rotate|skew)/,Tt=(s,e)=>E.num(s)&&s!==0?s+e:s,et=(s,e)=>E.arr(s)?s.every(t=>et(t,e)):E.num(s)?s===e:parseFloat(s)===e;class ta extends mt{constructor(e){let{x:t,y:n,z:r}=e,i=hs(e,qo);const o=[],c=[];(t||n||r)&&(o.push([t||0,n||0,r||0]),c.push(a=>[`translate3d(${a.map(u=>Tt(u,"px")).join(",")})`,et(a,0)])),W(i,(a,u)=>{if(u==="transform")o.push([a||""]),c.push(f=>[f,f===""]);else if(zo.test(u)){if(delete i[u],E.und(a))return;const f=$o.test(u)?"px":ea.test(u)?"deg":"";o.push(U(a)),c.push(u==="rotate3d"?([l,d,A,h])=>[`rotate3d(${l},${d},${A},${Tt(h,f)})`,et(h,0)]:l=>[`${u}(${l.map(d=>Tt(d,f)).join(",")})`,et(l,u.startsWith("scale")?1:0)])}}),o.length&&(i.transform=new sa(o,c)),super(i)}}class sa extends gn{constructor(e,t){super(),this._value=null,this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return H(this.inputs,(n,r)=>{const i=O(n[0]),[o,c]=this.transforms[r](E.arr(i)?i:n.map(O));e+=" "+o,t=t&&c}),t?"none":e}observerAdded(e){e==1&&H(this.inputs,t=>H(t,n=>K(n)&&Me(n,this)))}observerRemoved(e){e==0&&H(this.inputs,t=>H(t,n=>K(n)&&Le(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),ve(this,e)}}const na=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ra=["scrollTop","scrollLeft"];Z.assign({batchedUpdates:Kr.exports.unstable_batchedUpdates,createStringInterpolator:bn,colors:Yr});Fi(na,{applyAnimatedValues:Vo,createAnimatedStyle:s=>new ta(s),getComponentProps:s=>hs(s,ra)});function ia(s){const e=G.exports.useRef(),{nodes:t,materials:n}=Ct("/portfolio/3d/laptop.gltf"),r=ke(tn,"/portfolio/3d/jihyun.jpg");return r.flipY=!1,n["Material.003"].transparent=!0,n["Material.003"].opacity=.5,pe("group",{ref:e,...s,dispose:null,children:[pe("group",{position:[-.39,.03,-1.48],rotation:[0,.17,0],scale:[.3,.03,.3],children:[M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube004_1.geometry,material:n.Material}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube004_2.geometry,material:n["Material.002"]})]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Background2.geometry,material:t.Background2.material,position:[.64,-.01,0]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.keyboard.geometry,material:t.keyboard.material,position:[.04,.08,0]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.monitor.geometry,material:t.monitor.material,position:[.64,.07,0]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.trackpad.geometry,material:t.trackpad.material,position:[-.63,.06,0]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Screen.geometry,material:n.screen,position:[.64,.07,0],children:M("meshBasicMaterial",{map:r})}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube001.geometry,material:t.Cube001.material,position:[-.18,.06,-.82]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube002.geometry,material:t.Cube002.material,position:[-.18,.06,-.66]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube003.geometry,material:t.Cube003.material,position:[-.18,.06,0]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube004.geometry,material:t.Cube004.material,position:[-.18,.06,-.5]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube005.geometry,material:t.Cube005.material,position:[-.18,.06,.5]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube006.geometry,material:t.Cube006.material,position:[-.18,.06,.66]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube007.geometry,material:t.Cube007.material,position:[-.18,.06,.82]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube008.geometry,material:t.Cube008.material,position:[-.03,.06,-.77]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube009.geometry,material:t.Cube009.material,position:[-.03,.06,-.55]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube011.geometry,material:t.Cube011.material,position:[-.03,.06,-.39]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube014.geometry,material:t.Cube014.material,position:[-.03,.06,.7]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube010.geometry,material:t.Cube010.material,position:[-.03,.06,-.23]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube015.geometry,material:t.Cube015.material,position:[-.03,.06,-.06]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube016.geometry,material:t.Cube016.material,position:[-.03,.06,.1]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube017.geometry,material:t.Cube017.material,position:[-.03,.06,.26]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube018.geometry,material:t.Cube018.material,position:[-.03,.06,.42]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube012.geometry,material:t.Cube012.material,position:[.12,.06,-.79]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube013.geometry,material:t.Cube013.material,position:[.12,.06,-.6]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube019.geometry,material:t.Cube019.material,position:[.12,.06,-.44]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube020.geometry,material:t.Cube020.material,position:[.12,.06,.75]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube021.geometry,material:t.Cube021.material,position:[.12,.06,-.28]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube022.geometry,material:t.Cube022.material,position:[.12,.06,-.12]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube023.geometry,material:t.Cube023.material,position:[.12,.06,.04]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube024.geometry,material:t.Cube024.material,position:[.12,.06,.2]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube025.geometry,material:t.Cube025.material,position:[.12,.06,.36]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube026.geometry,material:t.Cube026.material,position:[.12,.06,.52]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube027.geometry,material:t.Cube027.material,position:[.27,.06,-.79]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube028.geometry,material:t.Cube028.material,position:[.27,.06,-.64]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube029.geometry,material:t.Cube029.material,position:[.27,.06,-.48]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube031.geometry,material:t.Cube031.material,position:[.27,.06,-.31]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube032.geometry,material:t.Cube032.material,position:[.27,.06,-.15]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube033.geometry,material:t.Cube033.material,position:[.27,.06,.01]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube034.geometry,material:t.Cube034.material,position:[.27,.06,.17]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube035.geometry,material:t.Cube035.material,position:[.27,.06,.33]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube036.geometry,material:t.Cube036.material,position:[.27,.06,.5]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube030.geometry,material:t.Cube030.material,position:[.27,.06,.82]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube037.geometry,material:t.Cube037.material,position:[.27,.06,.66]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube039.geometry,material:t.Cube039.material,position:[.43,.06,-.66]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube040.geometry,material:t.Cube040.material,position:[.43,.06,-.49]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube041.geometry,material:t.Cube041.material,position:[.43,.06,-.33]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube042.geometry,material:t.Cube042.material,position:[.43,.06,-.17]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube043.geometry,material:t.Cube043.material,position:[.43,.06,0]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube044.geometry,material:t.Cube044.material,position:[.43,.06,.16]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube045.geometry,material:t.Cube045.material,position:[.43,.06,.33]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube046.geometry,material:t.Cube046.material,position:[.43,.06,.49]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube047.geometry,material:t.Cube047.material,position:[.43,.06,.82]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube048.geometry,material:t.Cube048.material,position:[.43,.06,.66]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cube038.geometry,material:t.Cube038.material,position:[.43,.06,-.82]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Cylinder.geometry,material:t.Cylinder.material,position:[1.08,.04,2.08]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Sphere.geometry,material:t.Sphere.material,position:[1.08,1.85,1.33]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Sphere001.geometry,material:t.Sphere001.material,position:[1.08,1.9,1.33]}),M("mesh",{castShadow:!0,receiveShadow:!0,geometry:t.Bulb.geometry,material:n["Material.003"],position:[1.08,2.02,1.33],children:M("meshStandardMaterial",{emissive:"#ffc926",emissiveIntensity:30,roughness:0,color:"#ffffff"})})]})}Ct.preload("/portfolio/3d/laptop.gltf");function ca(){const[s,e]=G.exports.useState(0),[t,n]=G.exports.useState(0),r=Wi({from:{mouseX:0,mouseY:1},to:{mouseX:s,mouseY:t}});Vt(({camera:o})=>{o.position.z=r.mouseX.get(),o.position.y=r.mouseY.get()*.3,o.lookAt(new he(0,.7,0))});const i=G.exports.useCallback(o=>{const c=window.innerWidth/2,a=1-o.clientX/c;e(a);const u=window.innerHeight/2,f=1-o.clientY/u;n(-f+2)},[]);return G.exports.useEffect(()=>(window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousedown",i)}),[]),pe(rt,{children:[M("pointLight",{castShadow:!0,color:"#ffc926",intensity:3,position:[1.1,1.9,1.3],"shadow-bias":-5e-4,"shadow-camera-far":10,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),M("pointLight",{castShadow:!0,color:"#01c4f5",intensity:10,position:[2,1,0],"shadow-bias":-5e-4,"shadow-camera-far":10,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),M("pointLight",{color:"#ffffff",intensity:.5,position:[-3,1,3],"shadow-bias":-.05,"shadow-camera-far":10}),M(ia,{}),M(No,{temporal:!0,toneMapped:!0,frames:100,scale:10,opacity:.4,children:M(Qo,{amount:8,radius:3,ambient:.5,position:[6,4,-2]})}),M(Po,{files:"/portfolio/3d/photo_studio_loft_hall_1k.hdr"})]})}export{ca as default};
